import{d as C,ao as Y,an as ee,ae as te,u as O,b7 as ne,ab as re,ad as y,j as n,af as ae,ag as se,ai as ie,b8 as S,b9 as E,a as oe,q as ce,i as B,r as W,e as le,z as de,l as m,T as x,g as P,S as R,k as ue}from"./index-0GGCgQc5.js";import{f as pe,g as me,h as xe,e as fe,i as ve}from"./styles.component-B_MFmkMU.js";import{b as ge}from"./app.route.state-BHKaGZie.js";import{u as he,C as ye}from"./useMediaQuery-CU2gG75t.js";import{A as je}from"./Alert-DH6aySMM.js";import{C as T}from"./Chip-BUZF0xjW.js";const D=C.createContext();function be(e){return Y("MuiGrid",e)}const Se=[0,1,2,3,4,5,6,7,8,9,10],$e=["column-reverse","column","row-reverse","row"],we=["nowrap","wrap-reverse","wrap"],h=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],j=ee("MuiGrid",["root","container","item","zeroMinWidth",...Se.map(e=>`spacing-xs-${e}`),...$e.map(e=>`direction-xs-${e}`),...we.map(e=>`wrap-xs-${e}`),...h.map(e=>`grid-xs-${e}`),...h.map(e=>`grid-sm-${e}`),...h.map(e=>`grid-md-${e}`),...h.map(e=>`grid-lg-${e}`),...h.map(e=>`grid-xl-${e}`)]),ke=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function g(e){const r=parseFloat(e);return`${r}${String(e).replace(String(r),"")||"px"}`}function Ce({theme:e,ownerState:r}){let a;return e.breakpoints.keys.reduce((s,t)=>{let i={};if(r[t]&&(a=r[t]),!a)return s;if(a===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(a==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=S({values:r.columns,breakpoints:e.breakpoints.values}),u=typeof l=="object"?l[t]:l;if(u==null)return s;const d=`${Math.round(a/u*1e8)/1e6}%`;let c={};if(r.container&&r.item&&r.columnSpacing!==0){const o=e.spacing(r.columnSpacing);if(o!=="0px"){const p=`calc(${d} + ${g(o)})`;c={flexBasis:p,maxWidth:p}}}i=y({flexBasis:d,flexGrow:0,maxWidth:d},c)}return e.breakpoints.values[t]===0?Object.assign(s,i):s[e.breakpoints.up(t)]=i,s},{})}function Ee({theme:e,ownerState:r}){const a=S({values:r.direction,breakpoints:e.breakpoints.values});return E({theme:e},a,s=>{const t={flexDirection:s};return s.indexOf("column")===0&&(t[`& > .${j.item}`]={maxWidth:"none"}),t})}function F({breakpoints:e,values:r}){let a="";Object.keys(r).forEach(t=>{a===""&&r[t]!==0&&(a=t)});const s=Object.keys(e).sort((t,i)=>e[t]-e[i]);return s.slice(0,s.indexOf(a))}function Be({theme:e,ownerState:r}){const{container:a,rowSpacing:s}=r;let t={};if(a&&s!==0){const i=S({values:s,breakpoints:e.breakpoints.values});let l;typeof i=="object"&&(l=F({breakpoints:e.breakpoints.values,values:i})),t=E({theme:e},i,(u,d)=>{var c;const o=e.spacing(u);return o!=="0px"?{marginTop:`-${g(o)}`,[`& > .${j.item}`]:{paddingTop:g(o)}}:(c=l)!=null&&c.includes(d)?{}:{marginTop:0,[`& > .${j.item}`]:{paddingTop:0}}})}return t}function We({theme:e,ownerState:r}){const{container:a,columnSpacing:s}=r;let t={};if(a&&s!==0){const i=S({values:s,breakpoints:e.breakpoints.values});let l;typeof i=="object"&&(l=F({breakpoints:e.breakpoints.values,values:i})),t=E({theme:e},i,(u,d)=>{var c;const o=e.spacing(u);return o!=="0px"?{width:`calc(100% + ${g(o)})`,marginLeft:`-${g(o)}`,[`& > .${j.item}`]:{paddingLeft:g(o)}}:(c=l)!=null&&c.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${j.item}`]:{paddingLeft:0}}})}return t}function _e(e,r,a={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[a[`spacing-xs-${String(e)}`]];const s=[];return r.forEach(t=>{const i=e[t];Number(i)>0&&s.push(a[`spacing-${t}-${String(i)}`])}),s}const Me=ae("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e,{container:s,direction:t,item:i,spacing:l,wrap:u,zeroMinWidth:d,breakpoints:c}=a;let o=[];s&&(o=_e(l,c,r));const p=[];return c.forEach(f=>{const v=a[f];v&&p.push(r[`grid-${f}-${String(v)}`])}),[r.root,s&&r.container,i&&r.item,d&&r.zeroMinWidth,...o,t!=="row"&&r[`direction-xs-${String(t)}`],u!=="wrap"&&r[`wrap-xs-${String(u)}`],...p]}})(({ownerState:e})=>y({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ee,Be,We,Ce);function ze(e,r){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const a=[];return r.forEach(s=>{const t=e[s];if(Number(t)>0){const i=`spacing-${s}-${String(t)}`;a.push(i)}}),a}const Ie=e=>{const{classes:r,container:a,direction:s,item:t,spacing:i,wrap:l,zeroMinWidth:u,breakpoints:d}=e;let c=[];a&&(c=ze(i,d));const o=[];d.forEach(f=>{const v=e[f];v&&o.push(`grid-${f}-${String(v)}`)});const p={root:["root",a&&"container",t&&"item",u&&"zeroMinWidth",...c,s!=="row"&&`direction-xs-${String(s)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...o]};return ie(p,be,r)},k=C.forwardRef(function(r,a){const s=te({props:r,name:"MuiGrid"}),{breakpoints:t}=O(),i=ne(s),{className:l,columns:u,columnSpacing:d,component:c="div",container:o=!1,direction:p="row",item:f=!1,rowSpacing:v,spacing:$=0,wrap:K="wrap",zeroMinWidth:q=!1}=i,w=re(i,ke),Q=v||$,Z=d||$,J=C.useContext(D),I=o?u||12:J,N={},V=y({},w);t.keys.forEach(b=>{w[b]!=null&&(N[b]=w[b],delete V[b])});const G=y({},i,{columns:I,container:o,direction:p,item:f,rowSpacing:Q,columnSpacing:Z,wrap:K,zeroMinWidth:q,spacing:$},N,{breakpoints:t.keys}),X=Ie(G);return n.jsx(D.Provider,{value:I,children:n.jsx(Me,y({ownerState:G,className:se(X.root,l),as:c,ref:a},V))})}),Ne="event-by-id",Ve=e=>oe({queryKey:[Ne,e],queryFn:async()=>(await ce.getEventById(e)).data});var _={},Ge=B;Object.defineProperty(_,"__esModule",{value:!0});var L=_.default=void 0,Pe=Ge(W()),Re=n;L=_.default=(0,Pe.default)((0,Re.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday");var M={},Te=B;Object.defineProperty(M,"__esModule",{value:!0});var U=M.default=void 0,De=Te(W()),A=n;U=M.default=(0,De.default)([(0,A.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,A.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");var z={},Ae=B;Object.defineProperty(z,"__esModule",{value:!0});var H=z.default=void 0,Oe=Ae(W()),Fe=n;H=z.default=(0,Oe.default)((0,Fe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn");const Le=({eventId:e})=>{var c;const r=le(),a=O(),s=he(a.breakpoints.down("md")),{data:t,isLoading:i,isError:l}=Ve(e),u=()=>{var o,p;(p=(o=t==null?void 0:t.data)==null?void 0:o.event)!=null&&p.paymentUrl&&window.open(t.data.event.paymentUrl,"_blank")},d=()=>{r(ue.events)};return n.jsx(de,{loading:i,message:"Loading event details...",children:n.jsx(pe,{children:l||!((c=t==null?void 0:t.data)!=null&&c.event)?n.jsx(m,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:2,px:2},children:n.jsxs(je,{severity:"error",sx:{maxWidth:600,width:"100%"},children:[n.jsx(x,{variant:"h6",gutterBottom:!0,children:"Event Not Found"}),n.jsx(x,{variant:"body1",gutterBottom:!0,children:"The event you're looking for doesn't exist or has been removed."}),n.jsx(P,{variant:"contained",onClick:d,sx:{mt:2},children:"Back to Events"})]})}):n.jsxs(m,{sx:{maxWidth:1200,mx:"auto",px:{xs:2,md:4}},children:[n.jsx(P,{variant:"outlined",onClick:d,sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:"← Back to Events"}),n.jsxs(k,{container:!0,spacing:4,children:[n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(me,{children:n.jsx("img",{src:t.data.event.image||"https://placehold.co/600x400/F0F0F0/333333?text=Event+Image",alt:t.data.event.title,onError:o=>{const p=o.target;p.src="https://placehold.co/600x400/F0F0F0/333333?text=Event+Image"}})})}),n.jsx(k,{item:!0,xs:12,md:6,children:n.jsx(xe,{children:n.jsxs(R,{spacing:3,children:[n.jsxs(m,{children:[n.jsx(x,{variant:s?"h4":"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:a.palette.text.primary,lineHeight:1.2},children:t.data.event.title}),n.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2,mt:2},children:[n.jsx(T,{icon:n.jsx(H,{}),label:t.data.event.price===0?"Free Event":`₹${t.data.event.price}`,color:t.data.event.price===0?"success":"primary",variant:"filled",sx:{fontWeight:"bold"}}),n.jsx(T,{label:"Active",variant:"outlined",size:"medium"})]})]}),n.jsx(fe,{elevation:2,children:n.jsx(ye,{children:n.jsxs(R,{spacing:2,children:[n.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(L,{color:"primary"}),n.jsxs(x,{variant:"body1",children:["Created:"," ",new Date(t.data.event.createdAt).toLocaleDateString()]})]}),n.jsxs(m,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(U,{color:"primary"}),n.jsxs(x,{variant:"body1",children:["Last Updated:"," ",new Date(t.data.event.updatedAt).toLocaleDateString()]})]})]})})}),n.jsxs(m,{children:[n.jsx(x,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"About This Event"}),n.jsx(x,{variant:"body1",sx:{lineHeight:1.7,color:a.palette.text.secondary,textAlign:"justify"},children:t.data.event.description})]}),n.jsxs(m,{sx:{pt:2},children:[n.jsx(ve,{variant:"contained",size:"large",fullWidth:!0,onClick:u,disabled:!t.data.event.paymentUrl,sx:{py:2,fontSize:"1.1rem",fontWeight:"bold",textTransform:"none"},children:t.data.event.paymentUrl?"Enroll Now":"Enrollment Unavailable"}),!t.data.event.paymentUrl&&n.jsx(x,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mt:1},children:"Payment link is not available for this event"})]})]})})})]})]})})})},Je=()=>{const{eventId:e}=ge({params:"eventId"});return e?n.jsx(Le,{eventId:e}):null};export{Je as default};
