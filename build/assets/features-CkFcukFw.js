var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,i,r)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,s=(e,t)=>{for(var i in t||(t={}))n.call(t,i)&&o(e,i,t[i]);if(r)for(var i of r(t))a.call(t,i)&&o(e,i,t[i]);return e},l=(e,r)=>t(e,i(r)),d=(e,t,i)=>new Promise((r,n)=>{var a=e=>{try{s(i.next(e))}catch(t){n(t)}},o=e=>{try{s(i.throw(e))}catch(t){n(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((i=i.apply(e,t)).next())});import{t as c,v as x,w as p,x as h,y as m,z as u,j as g,r as f,A as b,_ as v,m as j,C as y,q as w,L as C,s as k,D as S,g as I,E as P,F as W}from"./vendor-DuBdz5x2.js";import{B,c as A,d as z,C as T,t as R,e as E,H as D,W as F,G as L,R as H,f as U,a as q,g as O,h as M,i as N,j as _,k as V,l as $,m as Y,o as G,p as K,q as J,r as X,E as Q,s as Z,v as ee,w as te,x as ie,y as re,z as ne,A as ae,D as oe,I as se,J as le,K as de,L as ce,M as xe,O as pe,P as he,Q as me,T as ue,U as ge,V as fe,X as be,Y as ve,Z as je,_ as ye}from"./entities-Db8i5UIX.js";import"./swiper-D-TN2YQB.js";import{P as we,k as Ce,l as ke,m as Se,p as Ie,e as Pe,R as We,n as Be,L as Ae}from"./shared-CyPWNYYV.js";import{s as ze,U as Te,k as Re,B as Ee,I as De,z as Fe,V as Le,p as He,W as Ue,S as qe,M as Oe,h as Me,n as Ne,X as _e,Y as Ve,R as $e,Z as Ye,_ as Ge,$ as Ke,A as Je,G as Xe,E as Qe,a0 as Ze,a1 as et,i as tt,K as it,a2 as rt,N as nt,H as at,a3 as ot,a4 as st,a5 as lt,a6 as dt,a7 as ct,a8 as xt,a9 as pt,aa as ht,ab as mt,ac as ut,ad as gt,ae as ft,af as bt,ag as vt,ah as jt,ai as yt,aj as wt,ak as Ct,al as kt,am as St}from"./mui-CqZcltnP.js";const It=c({email:x().email().required("Provide a valid emails"),password:x().required("provider a valid passwords")}),Pt=It.shape({name:x().required("Provide a valid name"),password:x().required("Provide a valid password").matches(we,"Password must be between 8 and 16 characters").matches(Ce,"Password must contain at least one special character").matches(ke,"Password must contain at least one uppercase letter").matches(Se,"Password must contain at least one lowercase letter")}),Wt=c({otp:x().length(6).required("Please provide a valid OTP"),email:x().email("Please provide a valid email").required("Please provide a valid email")}),Bt=c({title:x().required("Title is required"),description:x().required("Description is required"),price:p().required("Price is required"),paymentUrl:x().required("Payment URL is required"),image:x().required("Image is required")});c().shape({email:x().email("Invalid email").required("Email is required"),isEmailSent:h().required("Email is sent"),otp:x().when("isEmailSent",(e,t)=>e?t.required():t.optional()),isOtpVerified:h(),password:x().when("isOtpVerified",(e,t)=>e?t.required():t.optional()),confirmPassword:x().when("isOtpVerified",(e,t)=>e?t.required().oneOf([m("password")],"Passwords must match"):t.optional())});const At=c().shape({title:x().trim().min(3,"Title must be at least 3 characters").max(100,"Title cannot exceed 100 characters").required("Title is required"),description:x().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description cannot exceed 1000 characters").required("Description is required"),image:u().test("fileType","Unsupported File Format",e=>!e||("string"==typeof e||e&&e.type.startsWith("image/"))).test("fileSize","Image must be less than 10MB",e=>!e||("string"==typeof e||e&&e.size<=10485760)).optional()}),zt=c().shape({fullName:x().required("Name is required"),email:x().email("Invalid email").required("Email is required"),phone:x().matches(/^[0-9]{10}$/,"Invalid phone number").required("Phone is required"),message:x().required("Message is required")}),Tt=ze(Te)(({theme:e})=>({padding:e.spacing(1),maxWidth:"400px",width:"100%",height:"100%",aspectRatio:"3 / 4",display:"flex",flexDirection:"column",boxSizing:"border-box",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],transition:"all 0.3s ease",cursor:"pointer","&:hover":{boxShadow:e.shadows[6]},[e.breakpoints.down("md")]:{maxWidth:"280px",aspectRatio:"3 / 4.2"},[e.breakpoints.down("sm")]:{maxWidth:"unset",width:"90%",margin:"0 auto",aspectRatio:"4 / 5"},[e.breakpoints.down("xs")]:{width:"95%",aspectRatio:"3 / 4"}})),Rt=ze("div")(({theme:e})=>({width:"100%",paddingTop:"60%",height:"60%",position:"relative",marginInline:"auto",borderRadius:e.shape.borderRadius,overflow:"hidden",flexShrink:0,"& img":{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",display:"block"}})),Et=ze(Re)(({theme:e})=>({overflow:"hidden",minHeight:e.typography.body2.lineHeight?`calc(${e.typography.body2.lineHeight} * 3)`:"4.5em",position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"})),Dt=ze(Ee)(({theme:e})=>({position:"relative",background:e.palette.background.paper,padding:e.spacing(2),borderRadius:e.shape.borderRadius,boxShadow:e.shadows[5],maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"flex-start"})),Ft=ze(Ee)({width:"100%",height:"250px",marginBottom:"16px","& img":{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),Lt=ze(Ee)({textAlign:"left",width:"100%"});ze(Re)(({theme:e})=>({color:e.palette.primary.main,fontWeight:"bold",marginTop:e.spacing(2)}));const Ht=ze(De)(({theme:e})=>({padding:e.spacing(1)})),Ut=()=>{const e=Fe(),t=Le(e.breakpoints.down("sm"));return g.jsxs(qe,{alignItems:"center",gap:t?"5px":"10px",sx:{px:t?2:0},children:[g.jsx(Re,{variant:t?"h5":"h4.700",textAlign:"center",children:"Our Courses"}),g.jsx(Re,{variant:"body1",textAlign:"center",maxWidth:t?"100%":"80%",sx:{fontSize:t?"0.9rem":"1rem"},children:"Travel through your education with ease and comfort at Edunova, where our courses provide top-notch lessons and skilled instructors for a safe, enriching academic journey—ideal for daily learning, skill enhancement, or intellectual growth."})]})},qt="https://digitallearning.eletsonline.com/wp-content/uploads/2019/03/Online-courses.jpg",Ot=(e="")=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value},Mt=()=>{var e,t,i,r,n,a,o,s;const{data:l,isLoading:d,error:c}=A(),x=Fe(),p=Le(x.breakpoints.down("sm")),h=Le(x.breakpoints.down("md")),[m,u]=f.useState(void 0),{data:v,isLoading:j}=z(m),[y,w]=f.useState(!1),C=()=>p?1.2:h?2.2:3.5,k=e=>{u(e),w(!0)};return d?g.jsx(Ee,{display:"flex",justifyContent:"center",alignItems:"center",height:200,children:g.jsx(Re,{children:"Loading courses..."})}):c?g.jsx(Ee,{display:"flex",justifyContent:"center",alignItems:"center",height:200,children:g.jsxs(Re,{color:"error",children:["Error loading courses: ",c.message]})}):g.jsxs(g.Fragment,{children:[g.jsx(T,{slidesPerView:C(),spaceBetween:p?15:30,centeredSlides:p,loop:(null!=(i=null==(t=null==(e=null==l?void 0:l.data)?void 0:e.courses)?void 0:t.length)?i:0)>C(),autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!p,freeMode:!0,children:null==(r=null==l?void 0:l.data)?void 0:r.courses.map(e=>{const t=Ot(e.image||"");return g.jsx(b,{children:g.jsxs(Tt,{onClick:()=>k(e._id),children:[g.jsx(Rt,{children:g.jsx("img",{src:t||qt,alt:e.title||"Course Image",onError:e=>{e.target.src=qt}})}),g.jsx(He,{sx:{mt:2}}),g.jsxs(Ue,{component:qe,spacing:1.5,sx:{flexGrow:1,p:2},children:[g.jsx(Re,{variant:"h6.600",sx:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),g.jsx(Et,{variant:"body2",children:e.description.length>100?g.jsxs(g.Fragment,{children:[`${e.description.substring(0,100)}...`,g.jsx(Re,{component:"span",variant:"body2",color:"primary",onClick:t=>{t.stopPropagation(),k(e._id)},sx:{cursor:"pointer",fontWeight:"bold",marginLeft:1},children:"Read More"})]}):e.description})]})]})},e._id)})}),g.jsx(Oe,{open:y,onClose:()=>w(!1),"aria-labelledby":"course-details-modal","aria-describedby":"course-details",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsx(Dt,{children:j?g.jsx(Re,{children:"Loading...."}):g.jsxs(g.Fragment,{children:[g.jsxs(Ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[g.jsx(Re,{variant:"h6.700",component:"h2",children:"Course Detail"}),g.jsx(Ht,{onClick:()=>w(!1),children:g.jsx(Me,{})})]}),g.jsx(Ft,{sx:{mt:2},children:g.jsx("img",{src:Ot((null==(n=null==v?void 0:v.data)?void 0:n.course.image)||"")||qt,alt:(null==(a=null==v?void 0:v.data)?void 0:a.course.title)||"Course Image",onError:e=>{e.target.src=qt}})}),g.jsxs(Lt,{children:[g.jsx(Re,{variant:"h5",component:"h2",sx:{whiteSpace:"pre-wrap",wordWrap:"break-word"},gutterBottom:!0,children:null==(o=null==v?void 0:v.data)?void 0:o.course.title}),g.jsx(Re,{variant:"body1",color:"text.secondary",sx:{mb:2,whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(null==(s=null==v?void 0:v.data)?void 0:s.course.description)+"jabsdkajsbdkjabsdjjabsdkbasdjbajsdbakjsbdaksdbkasbdkajsbdkasbdkabsdasbdaksdbaksbdkasbdkasbdkasbdasblabdlabdlabdlabdlablabdlabdlasbdlabdlabals"})]})]})})})]})},Nt=()=>g.jsx(B,{topInfo:g.jsx(Ut,{}),showcaseSection:g.jsx(Mt,{})}),_t=ze("div")(()=>({smallscreen:e,theme:{palette:t}})=>({display:"flex",flexDirection:e?"column":"row",gap:"10px",background:t.blue[100],padding:e?"1vw 3vw":"1rem",borderRadius:"10px",width:e?"100vw":"100%",justifyContent:e?"center":"space-between"})),Vt=ze(qe)(({smallscreen:e})=>({flexDirection:e?"column":"row",alignItems:"center",gap:e?"66px":"none",marginTop:e?"2rem":"none"})),$t=ze(qe)({gap:"12px",maxWidth:"250px",alignItems:"center"}),Yt=[{title:"Instant Course Enrollment",desc:"No more waiting. Enroll in your desired courses instantly and start learning right away.",iconUrl:Ie.clock},{title:"Real-Time Progress Tracking",desc:"Stay informed at every step. Track your learning progress in real-time, from start to completion.",iconUrl:Ie.location},{title:"Affordable Course Fees",desc:"We offer competitive, transparent pricing with no hidden fees and extra charges.",iconUrl:Ie.rupees},{title:"Quality Education",desc:"Your education is our top priority. All our courses are designed by industry experts.",iconUrl:Ie.safety},{title:"24/7 Course Access",desc:"Access your courses anytime, anywhere. Learn at your own pace with 24/7 availability.",iconUrl:Ie["24HrsImage"]},{title:"Diverse Course Options",desc:"Choose the course that fits your needs. From beginner to advanced levels, we have it all.",iconUrl:Ie.bike}],Gt=[{title:"Quality & Trust",desc:"We prioritize your learning experience with accredited courses and expert instructors, ensuring a trusted educational journey.",iconUrl:Ie.safety},{title:"Convenience",desc:"Access our platform effortlessly, with intuitive navigation to explore courses and resources in just a few clicks.",iconUrl:Ie.location},{title:"Affordability",desc:"We offer competitive pricing for our programs, with transparent costs and accessible options for all learners.",iconUrl:Ie.rupees},{title:"Student Support",desc:"Our dedicated support team is available 24/7 to assist with your academic needs and queries.",iconUrl:Ie["24HrsImage"]}],Kt=[{label:"Enroll",desc:"Join expert-led courses and start learning instantly."},{label:"Learn",desc:"Access courses anytime and study at your pace."},{label:"Practice",desc:"Enhance skills with quizzes and real projects."},{label:"Certified",desc:"Earn recognized certificates to boost your career."}],Jt=()=>{const e=()=>g.jsxs(g.Fragment,{children:[g.jsxs(Re,{variant:"h5.700",children:["How"," ",g.jsxs(Re,{variant:"h5.700",color:"primary.main",children:["Edunova"," "]}),"Works?"]}),g.jsx(Re,{variant:"body2",children:"Flexible, engaging, and career-focused learning—whenever and wherever you need it."})]}),t=()=>{const{smallScreen:e}=Pe();return g.jsx(_t,{smallscreen:e,children:Kt.map(({desc:t,label:i},r)=>g.jsxs(Vt,{smallscreen:e,children:[g.jsxs($t,{children:[g.jsx(We,{content:g.jsx(Re,{variant:"h6.700",color:"neutral.white",children:r+1})}),g.jsx(Re,{variant:"body1.600",children:i}),g.jsx(Re,{variant:"body1",textAlign:"center",children:t})]}),r<3&&g.jsx("img",{src:Ie.arrow,alt:"arrow",style:{transform:e?"rotate(90deg)":"unset"}})]},r))})};return g.jsx(B,{topInfo:g.jsx(e,{}),showcaseSection:g.jsx(t,{})})},Xt=ze("div")({gap:"100px",display:"flex",flexDirection:"column",width:"1250px",maxWidth:"90%",margin:"0 auto",marginTop:"30px"}),Qt=ze(Te)(({theme:e,isNext:t})=>({textAlign:"left",p:1,minHeight:"285px",maxWidth:"420px",maxHeight:"285px",display:"flex",gap:"40px",background:t?e.palette.action.hover:"unset",boxShadow:t?"0px 8px 16px rgba(0, 0, 0, 0.2)":"unset",transition:"background 0.3s ease"})),Zt=ze("div")({display:"flex",alignItems:"center",gap:"20px"}),ei=ze(Re)({mt:1,fontStyle:"italic",color:"grey.600"}),ti=()=>{const{palette:e}=Fe();return g.jsx(T,{children:R.map(({joined:t,name:i,rating:r,text:n},a)=>g.jsx(b,{children:({isNext:a})=>g.jsx(Qt,{isNext:a,children:g.jsxs(Ue,{children:[g.jsxs(Zt,{children:[g.jsx("img",{src:Ie.avatar,alt:"Avatar"}),g.jsxs(qe,{children:[g.jsx(Re,{variant:"h6",fontWeight:"bold",children:i}),g.jsx(v,{count:5,size:15,value:r,color2:e.primary.main,edit:!1})]})]}),g.jsx(Re,{variant:"body2",sx:{mt:1},children:n}),g.jsxs(ei,{variant:"body2",children:["~ Joined Since ",t]})]})})},`${a}-${i}`))})},ii=()=>g.jsxs(g.Fragment,{children:[g.jsxs(Re,{variant:"h5.700",children:["HEAR FROM"," ",g.jsxs(Re,{variant:"h5.700",color:"primary.main",children:["OUR PEOPLE"," "]})]}),g.jsx(Re,{variant:"body3",children:"Explore What Our Students Say"})]}),ri=()=>g.jsx(B,{topInfo:g.jsx(ii,{}),showcaseSection:g.jsx(ti,{})}),ni=ze(Te)(({theme:e})=>({textAlign:"left",padding:e.spacing(1),width:"100%",height:"500px",maxHeight:"600px",aspectRatio:"unset",display:"flex",flexDirection:"column",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out",boxSizing:"border-box",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],"&:hover":{boxShadow:e.shadows[6],transform:"translateY(-5px)"},[e.breakpoints.down("md")]:{height:"380px",maxHeight:"380px"},[e.breakpoints.down("sm")]:{width:"90%",margin:"0 auto",height:"360px",maxHeight:"360px",padding:e.spacing(1)},[e.breakpoints.down("xs")]:{width:"95%",height:"350px",maxHeight:"350px"}})),ai=ze("div")(({theme:e})=>({width:"100%",height:"180px",position:"relative",marginInline:"auto",borderRadius:e.shape.borderRadius,overflow:"hidden",flexShrink:0,"& img":{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},[e.breakpoints.down("md")]:{height:"160px"},[e.breakpoints.down("sm")]:{height:"140px"}})),oi=ze(Re)(({theme:e})=>({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",height:`calc(${e.typography.body2.lineHeight} * 3)`,color:e.palette.text.secondary,fontSize:"0.875rem",[e.breakpoints.down("sm")]:{WebkitLineClamp:2,height:`calc(${e.typography.body2.lineHeight} * 2)`,fontSize:"0.8rem"}})),si=ze(Ne)(({theme:e})=>({width:"100%",padding:e.spacing(1.2,2),borderRadius:1.5*e.shape.borderRadius,fontWeight:e.typography.fontWeightBold,textTransform:"none",background:e.palette.secondary.main,color:e.palette.secondary.contrastText,boxShadow:e.shadows[3],transition:"background 0.3s ease, transform 0.2s ease","&:hover":{background:e.palette.secondary.dark,transform:"translateY(-2px)",boxShadow:e.shadows[6]},"&:active":{transform:"translateY(0)",boxShadow:"none"},[e.breakpoints.down("sm")]:{fontSize:"0.9rem",padding:e.spacing(1,1.5)}}));ze(Re)(({theme:e})=>({fontWeight:e.typography.fontWeightBold,color:e.palette.primary.main,height:Be(e,"subtitle1",1),marginTop:"auto"}));const li="https://placehold.co/400x300/F0F0F0/333333?text=Edunova+Event",di=()=>{var e,t,i,r,n;const{data:a,isLoading:o,isError:s}=E(),l=Fe(),d=Le(l.breakpoints.down("sm")),c=Le(l.breakpoints.down("md")),x=Le(l.breakpoints.up("lg")),p=()=>d?1.1:c?2.2:x?3.5:3;return g.jsxs(Ee,{sx:{width:"100%",py:4,px:2},children:[g.jsxs(qe,{alignItems:"center",spacing:2,sx:{mb:4,textAlign:"center"},children:[g.jsx(Re,{variant:d?"h5":"h4",component:"h2",color:"text.primary",sx:{fontWeight:"bold"},children:"Edunova Events"}),g.jsx(Re,{variant:"body1",textAlign:"center",maxWidth:d?"100%":"80%",sx:{fontSize:d?"0.9rem":"1rem"},children:"Travel through your education with ease and comfort at Edunova, where our courses provide top-notch lessons and skilled instructors for a safe, enriching academic journey—ideal for daily learning, skill enhancement, or intellectual growth."})]}),g.jsx(Ae,{loading:o,message:"Loading exciting events...",minHeight:"300px",children:s?g.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",width:"100%"},children:g.jsx(Re,{variant:"h6",color:"error",textAlign:"center",children:"Oops! Please try again later."})}):(null!=(t=null==(e=null==a?void 0:a.data)?void 0:e.events.length)?t:0)>0?g.jsx(T,{slidesPerView:p(),spaceBetween:d?15:c?25:40,centeredSlides:d,loop:(null!=(r=null==(i=null==a?void 0:a.data)?void 0:i.events.length)?r:0)>p(),autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0,dynamicBullets:!0},navigation:!d,freeMode:!0,grabCursor:!0,children:null==(n=null==a?void 0:a.data)?void 0:n.events.map(e=>g.jsx(b,{children:g.jsxs(ni,{onClick:()=>{e._id},sx:{cursor:"pointer"},children:[g.jsx(ai,{children:g.jsx("img",{src:e.image||li,alt:e.title||"Event Image",onError:e=>{e.target.src=li}})}),g.jsx(He,{sx:{mt:2,mb:1.5,borderColor:l.palette.divider}})," ",g.jsxs(Ue,{component:qe,spacing:1,sx:{flexGrow:1,p:1.5,pt:0,pb:1},children:[g.jsx(Re,{variant:"h6",sx:{fontWeight:l.typography.fontWeightBold,maxHeight:"3.2em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.6em",color:l.palette.text.primary},children:e.title}),g.jsx(oi,{variant:"body2",children:e.description}),g.jsx(Ee,{sx:{flexGrow:1}}),g.jsxs(Re,{variant:"body2.400",color:"primary.main",sx:{fontWeight:l.typography.fontWeightBold,mt:1},children:["Price: ",0===e.price?"Free":`₹${e.price}`]}),g.jsx(si,{variant:"contained",onClick:t=>((e,t)=>{e.stopPropagation(),t&&window.open(t,"_blank")})(t,e.paymentUrl),disabled:!e.paymentUrl,children:"Enroll Now"})]})]})},e._id))}):g.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",width:"100%"},children:g.jsx(Re,{variant:"h6",color:"text.secondary",textAlign:"center",children:"No events are available at the moment. Please check back later!"})})})]})},ci=()=>g.jsxs("div",{style:{gap:"100px",display:"flex",flexDirection:"column",overflowX:"hidden"},children:[g.jsx(D,{}),g.jsxs(Xt,{children:[g.jsx(Jt,{}),g.jsx(Nt,{}),g.jsx(di,{}),g.jsx(F,{data:Yt})]}),g.jsx(Xt,{children:g.jsx(ri,{})})]}),xi=ze("div")({gap:"100px",display:"flex",flexDirection:"column",width:"1300px",maxWidth:"90%",margin:"0 auto",marginTop:"30px"}),pi=()=>g.jsxs(g.Fragment,{children:[g.jsxs(Re,{variant:"h5.700",children:["Who"," ",g.jsx(Re,{variant:"h5.700",color:"primary.main",children:"We Are?"})]}),g.jsx(Re,{variant:"body2",children:"Your Trusted Partner in Lifelong Learning"})]}),hi=()=>g.jsx(qe,{gap:"50px",children:g.jsx(Re,{variant:"body3",textAlign:"center",children:"At Edunova Academic, we are passionate about transforming education through innovation. Our platform offers a student-centric, seamless way to access courses and resources for any learning journey—whether it's academic growth or professional development. We strive to provide an educational experience that is engaging, reliable, and accessible to all."})}),mi=()=>g.jsx(B,{topInfo:g.jsx(pi,{}),showcaseSection:g.jsx(hi,{})}),ui=()=>g.jsx(F,{data:Gt,cardBasis:"24%",title:"Why Choose",textPrimary:"Us?",subTitle:"Reliable, safe, and efficient rides—Your Comfort and Safety First"}),gi=()=>g.jsx("div",{style:{gap:"100px",display:"flex",flexDirection:"column"},children:g.jsxs(xi,{children:[g.jsx(mi,{}),g.jsx(ui,{}),g.jsx(L,{})]})}),fi=ze("div")({display:"flex",gap:"30px",width:"100%",flexWrap:"wrap"}),bi=ze(Te)(({theme:{palette:e},color:t})=>({minHeight:"330px",background:e[t][100],position:"relative",flex:1})),vi=ze("img")({position:"absolute",bottom:"0px",right:"0px"}),ji=ze("img")({position:"absolute",bottom:"0px",rotate:"-4deg",right:"0px"}),yi=ze("img")({position:"absolute",rotate:"-6deg",bottom:"0px",right:"-22px"}),wi=()=>{const e=()=>g.jsxs(qe,{spacing:"5px",id:"cabService",children:[g.jsxs(Re,{variant:"h5.700",textAlign:"center",children:["Our"," ",g.jsx(Re,{variant:"h5.700",color:"primary.main",children:"Services"})]}),g.jsx(Re,{variant:"body3",children:"At BuzzCabs, we provide a variety of vehicles to ensure you find the perfect ride for any journey."})]}),t=()=>g.jsxs(fi,{children:[g.jsxs(bi,{color:"sky",children:[g.jsxs(qe,{spacing:"14px",maxWidth:"360px",children:[g.jsx(Re,{variant:"h6.700",children:"Cab Booking"}),g.jsx(Re,{variant:"body1.500",maxWidth:"236px",children:"Enjoy a smooth ride in our well-maintained cars for any trip."})]}),g.jsx(vi,{src:Ie.book,style:{position:"absolute",bottom:"-20px",right:"-15px",maxHeight:"250px",maxWidth:"250px"}})]}),g.jsxs(bi,{color:"blue",children:[g.jsxs(qe,{spacing:"14px",maxWidth:"360px",children:[g.jsx(Re,{variant:"h6.700",children:"Auto Booking"}),g.jsx(Re,{variant:"body1.500",maxWidth:"236px",children:"Affordable and quick auto rides for your daily commutes."})]}),g.jsx(ji,{src:Ie.book,style:{position:"absolute",bottom:"-20px",right:"-15px",height:"250px",width:"250px"}})]}),g.jsxs(bi,{color:"neutral",children:[g.jsxs(qe,{spacing:"14px",maxWidth:"360px",children:[g.jsx(Re,{variant:"h6.700",children:"Bike Booking"}),g.jsx(Re,{variant:"body1.500",maxWidth:"236px",children:"Beat the traffic with fast and affordable bike rides for short trips."})]}),g.jsx(yi,{src:Ie.book,style:{position:"absolute",bottom:"-20px",right:"-15px",height:"250px",width:"250px"}})]})]});return g.jsx(B,{topInfo:g.jsx(e,{}),showcaseSection:g.jsx(t,{})})},Ci=ze(qe)(({theme:e})=>({width:"100vw",minHeight:"450px",justifyContent:"center",gap:"30px",background:e.palette.accent[900]})),ki=ze("div")({maxWidth:"1550px",display:"flex",flexDirection:"column",gap:"30px",alignItems:"center",justifyContent:"center"}),Si=()=>g.jsx(Ci,{children:g.jsxs(ki,{children:[g.jsxs(qe,{children:[g.jsxs(Re,{variant:"h5.700",color:"neutral.white",children:["Your"," ",g.jsx(Re,{variant:"h5.700",color:"primary.main",children:"Ride"}),", Your"," ",g.jsx(Re,{variant:"h5.700",color:"primary.main",children:"Choice"})]}),g.jsx(Re,{variant:"body3",color:"neutral.white",textAlign:"center",children:"Your Reliable Ride Partner"})]}),g.jsx(Re,{variant:"body3",color:"neutral.white",textAlign:"center",maxWidth:"1150px",children:"Explore our wide range of transport options, from bikes to cars, tailored to meet your every travel need with ease and affordability. Whether you're rushing to work, commuting in the city, or planning a weekend getaway, BuzzCabs is here to offer reliable, safe, and convenient rides for you."})]})}),Ii=ze(qe)({width:"1400px",maxWidth:"90%",margin:"auto",marginTop:"100px",gap:"100px"}),Pi=()=>{const e=()=>g.jsxs(g.Fragment,{children:[g.jsxs(qe,{spacing:"5px",children:[g.jsx(Re,{variant:"h5.700",children:"On-Demand & Scheduled Rides"}),g.jsx(Re,{variant:"body3.500",children:"Need to get somewhere fast or plan ahead?"})]}),g.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:[g.jsxs("li",{children:[g.jsx(Re,{variant:"body1.700",color:"secondary",children:"INSTANT RIDES:"}),g.jsx(Re,{variant:"body1",sx:{display:"inline",marginLeft:1},children:"Book a ride whenever you need it, and we'll get you there in no time."})]}),g.jsxs("li",{children:[g.jsx(Re,{variant:"body1.700",color:"secondary",sx:{fontWeight:"bold",display:"inline"},children:"RIDE SCHEDULING:"}),g.jsx(Re,{variant:"body1",sx:{display:"inline",marginLeft:1},children:"Plan ahead by scheduling rides for important trips. Select your preferred vehicle, set the time, and leave the rest to us."})]})]})]});return g.jsx(H,{imgUrl:Ie.waitForCab,textSection:g.jsx(e,{}),reverse:!0})},Wi=()=>{const e=()=>g.jsxs(g.Fragment,{children:[g.jsxs(qe,{spacing:"5px",children:[g.jsx(Re,{variant:"h5.700",children:"Door-to-Door Pickup & Drop"}),g.jsx(Re,{variant:"body3.500",children:"Ease & Efficient Ride for Your Comfort"})]}),g.jsx("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:g.jsx("li",{children:g.jsx(Re,{variant:"body1",sx:{display:"inline"},children:"Enjoy hassle-free travel with our door-to-door service. Whether it’s a quick run to the store or a pickup from your home, our drivers will meet you at your exact location and drop you off where you need to be."})})})]});return g.jsx(H,{imgUrl:Ie.taxyPickUp,textSection:g.jsx(e,{})})},Bi=()=>{const e=()=>g.jsxs(g.Fragment,{children:[g.jsxs(qe,{spacing:"5px",children:[g.jsx(Re,{variant:"h5.700",children:"Affordable & Transparent Pricing"}),g.jsx(Re,{variant:"body3.500",children:"Affordable for your Life"})]}),g.jsx("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:g.jsx("li",{children:g.jsx(Re,{variant:"body1",sx:{display:"inline"},children:"We offer competitive, pocket-friendly pricing with no hidden fees. Know exactly what you’ll pay before you book, and enjoy fair rates for all your rides—whether short distances or longer trips."})})})]});return g.jsx(H,{imgUrl:Ie.moneyCal,textSection:g.jsx(e,{}),reverse:!0})},Ai=()=>{const e=()=>g.jsxs(g.Fragment,{children:[g.jsxs(qe,{spacing:"5px",children:[g.jsx(Re,{variant:"h5.700",children:"Safe & Secure Rides"}),g.jsx(Re,{variant:"body3.500",children:"Your safety is our priority"})]}),g.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:[g.jsx("li",{children:g.jsx(Re,{variant:"body1",sx:{display:"inline"},children:"Thoroughly vetted drivers to provide you with a safe and professional ride."})}),g.jsx("li",{children:g.jsx(Re,{variant:"body1",sx:{display:"inline"},children:"Regularly inspected vehicles to ensure every ride is smooth and secure."})}),g.jsx("li",{children:g.jsx(Re,{variant:"body1",sx:{display:"inline"},children:"Real-time tracking for peace of mind as you travel to your destination."})})]})]});return g.jsx(H,{imgUrl:Ie.safeAndSecure,textSection:g.jsx(e,{})})},zi=()=>g.jsxs(g.Fragment,{children:[g.jsx(Si,{}),g.jsxs(Ii,{children:[g.jsx(wi,{}),g.jsx(Pi,{}),g.jsx(Wi,{}),g.jsx(Bi,{}),g.jsx(Ai,{}),g.jsx(He,{}),g.jsx(L,{})]})]}),Ti=ze(qe)(({theme:e})=>({width:"100vw",minHeight:"400px",[e.breakpoints.up("md")]:{minHeight:"450px"},[e.breakpoints.up("lg")]:{minHeight:"500px"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(4,2),gap:e.spacing(4),background:e.palette.primary.dark})),Ri=ze("div")(({theme:e})=>({width:"100%",maxWidth:"1200px",padding:e.spacing(0,2),display:"flex",flexDirection:"column",gap:e.spacing(4),alignItems:"center",justifyContent:"center",[e.breakpoints.down("md")]:{maxWidth:"90%",gap:e.spacing(3)},[e.breakpoints.down("sm")]:{maxWidth:"95%",gap:e.spacing(2)}})),Ei=()=>{const e=Fe(),t=Le(e.breakpoints.down("sm"));return g.jsx(Ti,{children:g.jsxs(Ri,{children:[g.jsxs(qe,{spacing:2,alignItems:"center",children:[g.jsx(Re,{variant:t?"subtitle2":"body2.700",color:"neutral.white",textAlign:"center",sx:{fontWeight:700,letterSpacing:1},children:"Edunova Community Events"}),g.jsx(Re,{variant:t?"h5":"h3.700",color:"neutral.white",textAlign:"center",sx:{fontWeight:700},children:"Join Our Learning Adventures!"})]}),g.jsx(Re,{variant:t?"body2":"body1",color:"neutral.white",textAlign:"center",maxWidth:"800px",sx:{mt:3,fontSize:t?"1rem":void 0},children:"Discover a world of engaging webinars, interactive workshops, and inspiring seminars designed to enrich your knowledge and connect you with experts and fellow learners. Don't miss out on upcoming opportunities to grow!"})]})})},Di=ze("div")({gap:"100px",display:"flex",flexDirection:"column",width:"1300px",maxWidth:"90%",margin:"0 auto",marginTop:"30px"}),Fi=ze(Ee)(({theme:e})=>({minHeight:"100vh",padding:e.spacing(4,0),backgroundColor:e.palette.background.default,[e.breakpoints.down("md")]:{padding:e.spacing(2,0)}})),Li=ze(Ee)(({theme:e})=>({position:"relative",borderRadius:e.spacing(2),overflow:"hidden",boxShadow:e.shadows[8],"& img":{width:"100%",height:"auto",display:"block",transition:"transform 0.3s ease-in-out"},"&:hover img":{transform:"scale(1.02)"},[e.breakpoints.down("md")]:{marginBottom:e.spacing(3)}})),Hi=ze(Ee)(({theme:e})=>({padding:e.spacing(3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(2),boxShadow:e.shadows[2],height:"fit-content",[e.breakpoints.down("md")]:{padding:e.spacing(2)}})),Ui=ze(Ne)(({theme:e})=>({background:`linear-gradient(135deg, ${e.palette.primary.main} 0%, ${e.palette.primary.dark} 100%)`,borderRadius:e.spacing(2),boxShadow:e.shadows[4],transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[8],background:`linear-gradient(135deg, ${e.palette.primary.dark} 0%, ${e.palette.primary.main} 100%)`},"&:disabled":{background:e.palette.grey[300],color:e.palette.grey[600],transform:"none",boxShadow:"none"}})),qi=({eventId:e})=>{var t;const i=j(),r=Fe(),n=Le(r.breakpoints.down("md")),{data:a,isLoading:o,isError:s}=U(e),l=()=>{i(q.events)};return g.jsx(Ae,{loading:o,message:"Loading event details...",children:g.jsx(Fi,{children:s||!(null==(t=null==a?void 0:a.data)?void 0:t.event)?g.jsx(Ee,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:2,px:2},children:g.jsxs(_e,{severity:"error",sx:{maxWidth:600,width:"100%"},children:[g.jsx(Re,{variant:"h6",gutterBottom:!0,children:"Event Not Found"}),g.jsx(Re,{variant:"body1",gutterBottom:!0,children:"The event you're looking for doesn't exist or has been removed."}),g.jsx(Ne,{variant:"contained",onClick:l,sx:{mt:2},children:"Back to Events"})]})}):g.jsxs(Ee,{sx:{maxWidth:1200,mx:"auto",px:{xs:2,md:4}},children:[g.jsx(Ne,{variant:"outlined",onClick:l,sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:"← Back to Events"}),g.jsxs(Ve,{container:!0,spacing:4,children:[g.jsx(Ve,{item:!0,xs:12,md:6,children:g.jsx(Li,{children:g.jsx("img",{src:a.data.event.image||"https://placehold.co/600x400/F0F0F0/333333?text=Event+Image",alt:a.data.event.title,onError:e=>{e.target.src="https://placehold.co/600x400/F0F0F0/333333?text=Event+Image"}})})}),g.jsx(Ve,{item:!0,xs:12,md:6,children:g.jsx(Hi,{children:g.jsxs(qe,{spacing:3,children:[g.jsxs(Ee,{children:[g.jsx(Re,{variant:n?"h4":"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:r.palette.text.primary,lineHeight:1.2},children:a.data.event.title}),g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:2,mt:2},children:[g.jsx($e,{icon:g.jsx(Ye,{}),label:0===a.data.event.price?"Free Event":`₹${a.data.event.price}`,color:0===a.data.event.price?"success":"primary",variant:"filled",sx:{fontWeight:"bold"}}),g.jsx($e,{label:"Active",variant:"outlined",size:"medium"})]})]}),g.jsx(Te,{elevation:2,children:g.jsx(Ue,{children:g.jsxs(qe,{spacing:2,children:[g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:2},children:[g.jsx(Ge,{color:"primary"}),g.jsxs(Re,{variant:"body1",children:["Created:"," ",new Date(a.data.event.createdAt).toLocaleDateString()]})]}),g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:2},children:[g.jsx(Ke,{color:"primary"}),g.jsxs(Re,{variant:"body1",children:["Last Updated:"," ",new Date(a.data.event.updatedAt).toLocaleDateString()]})]})]})})}),g.jsxs(Ee,{children:[g.jsx(Re,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"About This Event"}),g.jsx(Re,{variant:"body1",sx:{lineHeight:1.7,color:r.palette.text.secondary,textAlign:"justify"},children:a.data.event.description})]}),g.jsxs(Ee,{sx:{pt:2},children:[g.jsx(Ui,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>{var e,t;(null==(t=null==(e=null==a?void 0:a.data)?void 0:e.event)?void 0:t.paymentUrl)&&window.open(a.data.event.paymentUrl,"_blank")},disabled:!a.data.event.paymentUrl,sx:{py:2,fontSize:"1.1rem",fontWeight:"bold",textTransform:"none"},children:a.data.event.paymentUrl?"Enroll Now":"Enrollment Unavailable"}),!a.data.event.paymentUrl&&g.jsx(Re,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mt:1},children:"Payment link is not available for this event"})]})]})})})]})]})})})},Oi=ze(Ee)(({theme:e})=>({marginTop:e.spacing(6),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"})),Mi=ze(Re)(({theme:e})=>({marginBottom:e.spacing(2),fontWeight:"bold",textAlign:"center",fontSize:"2rem",[e.breakpoints.down("sm")]:{fontSize:"1.3rem"}})),Ni=ze(qe)(({theme:e})=>({flexDirection:"row",gap:e.spacing(4),justifyContent:"center",flexWrap:"wrap",width:"100%",[e.breakpoints.down("sm")]:{gap:e.spacing(2),flexDirection:"column",alignItems:"center"}})),_i=ze(Ee)(({theme:e})=>({maxWidth:300,padding:e.spacing(2),borderRadius:2*e.shape.borderRadius,boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",alignItems:"flex-start",[e.breakpoints.down("sm")]:{maxWidth:"90vw",padding:e.spacing(1.5)}})),Vi=ze(qe)(({theme:e})=>({flexDirection:"row",gap:e.spacing(2),alignItems:"center",marginBottom:e.spacing(1)})),$i=ze(Je)(({theme:e})=>({width:48,height:48,fontSize:"1.5rem",background:e.palette.primary.main,color:e.palette.primary.contrastText,[e.breakpoints.down("sm")]:{width:40,height:40,fontSize:"1.1rem"}})),Yi=[{name:"Amit Sharma",feedback:"Amazing event! Learned a lot and met great people.",avatar:""},{name:"Priya Singh",feedback:"Very well organized and insightful sessions.",avatar:""},{name:"Amit Sharma",feedback:"Amazing event! Learned a lot and met great people.",avatar:""},{name:"Priya Singh",feedback:"Very well organized and insightful sessions.",avatar:""}],Gi=()=>g.jsxs(Oi,{children:[g.jsx(Mi,{variant:"h5",children:"What Attendees Say"}),g.jsx(Ni,{children:Yi.map((e,t)=>g.jsxs(_i,{children:[g.jsxs(Vi,{children:[g.jsx($i,{src:e.avatar,children:e.name[0]}),g.jsx(Re,{variant:"subtitle1",children:e.name})]}),g.jsxs(Re,{variant:"body2",color:"text.secondary",children:['"',e.feedback,'"']})]},t))})]}),Ki=()=>g.jsxs("div",{style:{gap:"100px",display:"flex",flexDirection:"column"},children:[g.jsx(Ei,{}),g.jsxs(Di,{children:[g.jsx(di,{}),g.jsx(Gi,{})]})]});ze(qe)(()=>({width:"100vw",minHeight:"450px",justifyContent:"center",gap:"30px",background:"#11104b"})),ze("div")({maxWidth:"1550px",display:"flex",flexDirection:"column",gap:"30px",alignItems:"center",justifyContent:"center"}),ze("div")({gap:"100px",display:"flex",flexDirection:"column",width:"1300px",maxWidth:"48%",margin:"0 auto"});const Ji={container:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",padding:"2rem"}},Xi=()=>{const[e]=f.useState(()=>localStorage.getItem("activeTab")||"dashboard");return f.useEffect(()=>{localStorage.setItem("activeTab",e)},[e]),g.jsx("div",{style:Ji.container})},Qi=y(Ee)`
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
`,Zi=y(Xe)`
  padding: 3rem 2.5rem;
  max-width: 500px;
  width: 100%;
  border-radius: 1rem;
  background-color: #ffffff;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease-in-out;

  &:hover {
    box-shadow: 0 16px 36px rgba(0, 0, 0, 0.1);
  }
`,er=y(Re)`
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 2rem;
  color: #0f172a;
`,tr=y(Qe)`
  margin-bottom: 1.25rem;

  & label.Mui-focused {
    color: #2563eb;
  }

  & .MuiOutlinedInput-root {
    border-radius: 0.75rem;

    & fieldset {
      border-color: #cbd5e1;
    }

    &:hover fieldset {
      border-color: #94a3b8;
    }

    &.Mui-focused fieldset {
      border-color: #2563eb;
    }
  }
`,ir=y(Ne)`
  margin-top: 1.5rem;
  padding: 0.75rem;
  font-weight: 600;
  font-size: 1rem;
  background-color: #2563eb;
  border-radius: 0.75rem;
  text-transform: none;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #1d4ed8;
  }
`;y(Re)`
  color: #ef4444;
  font-size: 0.875rem;
  margin-top: 0.5rem;
  text-align: center;
`;const rr=({toggleEye:e})=>e?g.jsx(Ze,{}):g.jsx(et,{}),nr=()=>{var e,t;const i=w({resolver:k(It),defaultValues:{email:"",password:""},mode:"onTouched"}),{mutate:r,isPending:n}=O(),{register:a,handleSubmit:o,formState:{errors:d,isValid:c},setError:x,clearErrors:p}=i,h=e=>{r(e,{onError:e=>{var t,i;const r=(null==(i=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:i.error)||"An unexpected error occurred.";x("email",{type:"custom"}),x("password",{type:"custom",message:r})}})},[m,u]=f.useState(!1),b=()=>{var e;"custom"===(null==(e=d.password)?void 0:e.type)&&p(["email","password"])};return g.jsx(Qi,{children:g.jsxs(Zi,{elevation:3,children:[g.jsxs("form",{onSubmit:e=>{o(h)(e)},children:[g.jsx(tr,l(s({label:"Email",placeholder:"Email",fullWidth:!0,margin:"normal"},a("email",{onChange:()=>b()})),{error:!!d.email,helperText:null==(e=d.email)?void 0:e.message})),g.jsxs("div",{children:[g.jsx(Qe,l(s({label:"Password",placeholder:"Password",fullWidth:!0,margin:"normal",type:m?"text":"password"},a("password",{onChange:()=>b()})),{error:!!d.password,helperText:null==(t=d.password)?void 0:t.message,InputProps:{endAdornment:g.jsx(De,{onClick:()=>u(!m),children:g.jsx(rr,{toggleEye:m})})}})),g.jsx(Re,{variant:"body2.500",component:C,to:q.forgotPassword,sx:{color:"primary.main",textAlign:"right",display:"block"},children:"Forgot Password?"})]}),g.jsx(Ne,{variant:"contained",fullWidth:!0,type:"submit",sx:{mb:2,mt:3},loading:n,disabled:n||!c,children:"Login"})]}),g.jsxs(Re,{variant:"body2",align:"center",sx:{marginTop:2},children:["New user?"," ",g.jsx(C,{to:q.userSignup,style:{color:"#2563eb",textDecoration:"none",fontWeight:500},children:"Sign up"})]})]})})},ar=({toggleEye:e})=>e?g.jsx(Ze,{}):g.jsx(et,{}),or=()=>{var e,t,i;const r=w({resolver:k(Pt),defaultValues:{name:"",email:"",password:""},mode:"onTouched"}),{register:n,handleSubmit:a,formState:{errors:o,isValid:c}}=r,{mutateAsync:x,isPending:p}=M(),h=e=>d(void 0,null,function*(){yield x(e)}),[m,u]=f.useState(!1);return g.jsx(Qi,{children:g.jsxs(Zi,{elevation:3,children:[g.jsx(er,{children:"Create an Account"}),g.jsxs("form",{onSubmit:e=>{a(h)(e)},style:{display:"flex",flexDirection:"column",gap:"10px"},children:[g.jsx(tr,l(s({label:"Name",fullWidth:!0},n("name")),{error:!!o.name,helperText:null==(e=o.name)?void 0:e.message})),g.jsx(tr,l(s({label:"Email",fullWidth:!0},n("email")),{error:!!o.email,helperText:null==(t=o.email)?void 0:t.message})),g.jsx(tr,l(s({label:"Password",type:m?"text":"password",fullWidth:!0},n("password")),{error:!!o.password,helperText:null==(i=o.password)?void 0:i.message,InputProps:{endAdornment:g.jsx(De,{onClick:()=>u(!m),children:g.jsx(ar,{toggleEye:m})})}})),g.jsx(ir,{variant:"contained",color:"success",fullWidth:!0,type:"submit",disabled:!c,loading:p,children:"Signup"})]}),g.jsxs(Re,{variant:"body2",align:"center",sx:{marginTop:2},children:["Already have an account?"," ",g.jsx(C,{to:q.userLogin,style:{color:"#2563eb",textDecoration:"none",fontWeight:500},children:"Login"})]})]})})};ze(Ne)(({theme:e})=>({color:`${e.palette.secondary[700]} !important`,background:"none !important",border:"none",display:"inline-flex",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.body1.fontSize,paddingBlock:0,lineHeight:"1",height:"auto",cursor:"pointer",":disabled":{cursor:"not-allowed",color:e.palette.text.disabled}}));const sr=ze(S)(({error:e})=>({[` ${tt.root}`]:{borderWidth:e?"none":"1px"},gap:"0.5rem"})),lr=ze(Ee)({display:"flex",flexDirection:"column",gap:"1.3rem",justifyContent:"center",width:"100%",flex:1,maxWidth:"600px",padding:"1rem",margin:"auto",marginTop:"5rem",boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.1)",borderRadius:"10px"});ze(C)({textAlign:"right",display:"inline",fontSize:"0.875rem",fontWeight:500,marginTop:"-1rem !important","&:hover":{textDecoration:"underline !important"}});const dr=ze("div")`
  display: flex;
  gap: 0.75rem;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`;function cr({signUpPayload:e}){const{email:t}=e,[i,r]=f.useState(30),[n,a]=f.useState(!0);f.useEffect(()=>{let e;return n&&i>0?e=setInterval(()=>{r(e=>e-1)},1e3):0===i&&a(!1),()=>clearInterval(e)},[n,i]);const{control:o,handleSubmit:s,reset:l,formState:{isValid:d}}=w({defaultValues:{otp:"",email:e.email},resolver:k(Wt)}),c=I.useRef(null),{mutateAsync:x,isPending:p}=N(),{mutateAsync:h,isPending:m}=_(),u=e=>{x(e)},b=e=>""!==e&&!Number.isNaN(Number(e)),v=t.replace(/^(.*)(..)(@.*)$/,(e,...t)=>{const[i,r,n]=t;return"*".repeat(i.length)+r+n});return g.jsxs(lr,{component:"form",ref:c,onSubmit:e=>{s(u)(e)},children:[g.jsxs(dr,{children:[g.jsx(Re,{variant:"h5.600",children:"Verify Email"}),g.jsx(Re,{variant:"body1.400",color:"text.secondary",children:` We have sent a verification code to ${v}. Please enter the code\n          below.`})]}),g.jsx(P,{name:"otp",control:o,render:({field:e,fieldState:t})=>{var i;return g.jsxs("div",{children:[g.jsx(Re,{variant:"caption1.400",color:"text.secondary",children:"Enter the code sent to your email"}),g.jsx(sr,{error:!!t.error,TextFieldsProps:{disabled:p,error:!!t.error},autoFocus:!0,value:e.value,onComplete:()=>{var e;null==(e=c.current)||e.requestSubmit()},validateChar:b,onChange:t=>e.onChange({target:{value:t}}),length:6}),g.jsx(Re,{variant:"caption1.400",color:"error",children:null==(i=t.error)?void 0:i.message})]})}}),g.jsx(Ne,{loading:p||m,disabled:!d||p||m,type:"submit",children:"Verify Email"}),g.jsxs(Re,{color:"text.secondary",align:"center",variant:"body1",children:["Did not receive code?"," ",g.jsx(Re,{display:"inline",sx:{textDecoration:i?"none":"underline",fontWeight:500,cursor:i?"default":"pointer"},onClick:()=>{i||(h({email:e.email}),l(),r(30),a(!0))},children:i?`Resend code in ${i} seconds`:"Resend code"})]})]})}const xr={container:{padding:"2rem",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",maxWidth:"1200px",margin:"2rem auto",backgroundColor:"#ffffff",transition:"background-color 0.3s ease-in-out"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},title:{fontSize:"2.5rem",marginBottom:"1.5rem",color:"#1e293b",textAlign:"center",fontWeight:"700",textShadow:"1px 1px 2px rgba(0,0,0,0.05)"},formContainer:{padding:"2rem",marginBottom:"2rem"},submitButton:{backgroundColor:"#16a34a",color:"#ffffff",padding:"1.2rem 2rem",borderRadius:"8px",border:"none",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",marginTop:"2rem",transition:"background-color 0.2s ease-in-out, transform 0.2s ease-in-out"},subHeader:{fontSize:"1.8rem",fontWeight:"600",color:"#1e293b",marginBottom:"1.5rem"},searchAndSwitchContainer:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"center",justifyContent:"flex-end"},searchField:{flexGrow:1,maxWidth:"400px"},eventGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},eventCard:{borderRadius:"12px",overflow:"hidden",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out"},paginationContainer:{display:"flex",justifyContent:"center",marginTop:"2rem"}},pr={padding:"0.75rem 1.25rem",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.2s ease-in-out",border:"1px solid transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontFamily:'"Inter", sans-serif',whiteSpace:"nowrap",textTransform:"none"},hr={container:{maxWidth:"1200px",margin:{xs:"1rem",md:"2rem auto"},padding:{xs:"1rem",md:"1.5rem"},backgroundColor:"#ffffff",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)"},header:{marginBottom:"1.5rem",color:"#1e293b",textAlign:"center",fontSize:{xs:"1.75rem",md:"2.25rem"},fontWeight:700},subHeader:{marginBottom:"1.5rem",color:"#334155",fontSize:{xs:"1.5rem",md:"1.75rem"},fontWeight:600},formContainer:{padding:{xs:"1rem",md:"2rem"},borderRadius:"0.75rem",backgroundColor:"#f8fafc",marginBottom:"2rem"},inputField:{marginBottom:"1.5rem","& .MuiOutlinedInput-root":l(s({},{width:"100%",padding:"0.75rem",border:"1px solid #cbd5e1",borderRadius:"0.5rem",fontSize:"1rem",transition:"all 0.2s ease-in-out",fontFamily:'"Inter", sans-serif'}),{backgroundColor:"#ffffff","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#94a3b8"},"&.Mui-focused fieldset":{borderColor:"#007bff",borderWidth:"2px"}}),"& .MuiInputLabel-root":{color:"#64748b"},"& .MuiFormHelperText-root":{color:"#ef4444"}},imageUploadContainer:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"1rem"},uploadButton:l(s({},pr),{backgroundColor:"#e0f2fe",color:"#0288d1",border:"1px solid #90caf9","&:hover":{backgroundColor:"#90caf9",color:"#ffffff"}}),imagePreviewBox:{position:"relative",width:"150px",height:"100px",borderRadius:"0.5rem",overflow:"hidden",border:"1px solid #e2e8f0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f0f0"},removeImageButton:{position:"absolute",top:5,right:5,backgroundColor:"rgba(255,255,255,0.7)","&:hover":{backgroundColor:"rgba(255,255,255,0.9)"},minWidth:0,padding:"4px"},submitButton:l(s({},pr),{backgroundColor:"#10b981",color:"#ffffff","&:hover":{backgroundColor:"#059669"},"&:disabled":{backgroundColor:"#a7f3d0",color:"#ffffff",cursor:"not-allowed"}}),cancelEditButton:l(s({},pr),{backgroundColor:"transparent",color:"#64748b",border:"1px solid #cbd5e1","&:hover":{backgroundColor:"#f1f5f9",borderColor:"#94a3b8"},marginLeft:"1rem"}),alert:{marginBottom:"1rem",borderRadius:"0.5rem"},searchAndSwitchContainer:{display:"flex",justifyContent:"flex-end",marginBottom:"1.5rem",alignItems:"center",gap:"1rem",flexWrap:"wrap","@media (max-width: 600px)":{flexDirection:"column",alignItems:"stretch"}},searchField:{width:"300px","@media (max-width: 600px)":{width:"100%"}},viewToggle:{display:"flex",justifyContent:"center",marginTop:"1rem",flexWrap:"wrap","& .MuiToggleButton-root":{border:"1px solid #cbd5e1",color:"#475569","&.Mui-selected":{backgroundColor:"#3b82f6",color:"#ffffff","&:hover":{backgroundColor:"#2563eb"}},"&:hover":{backgroundColor:"#f1f5f9"}}},loadingBox:{display:"flex",justifyContent:"center",paddingY:"2rem"},tableContainer:{boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",borderRadius:"0.75rem",overflow:"hidden",minWidth:"100%",minHeight:"500px","@media (max-width: 960px)":{overflowX:"auto"}},tableHeader:{fontWeight:700,backgroundColor:"#f8fafc",color:"#334155",whiteSpace:"nowrap",padding:"1rem"},tableRow:{"&:nth-of-type(odd)":{backgroundColor:"#fefefe"},"&:hover":{backgroundColor:"#f0f4f8"}},tableCell:{color:"#475569",padding:"0.75rem 1rem","@media (max-width: 960px)":{padding:"0.5rem 0.75rem",fontSize:"0.875rem"},"@media (max-width: 600px)":{padding:"0.5rem",fontSize:"0.8rem"}},tableActions:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"0.5rem",flexWrap:"wrap","& .MuiIconButton-root":{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& .MuiSwitch-root":{margin:"0 0.25rem"}},blogGrid:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fill, minmax(280px, 1fr))"},gap:"1.5rem",marginBottom:"1.5rem"},blogCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",overflow:"hidden",display:"flex",flexDirection:"column",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)"}},blogCardContent:{padding:"1rem",display:"flex",flexDirection:"column",flexGrow:1},blogCardTitle:{fontSize:"1.25rem",fontWeight:600,color:"#1e293b",marginBottom:"0.5rem"},blogCardDescription:{fontSize:"0.875rem",color:"#475569",marginBottom:"1rem",flexGrow:1,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},blogCardActions:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap",alignItems:"center","& .MuiIconButton-root":{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},"& .MuiSwitch-root":{margin:"0 0.25rem"}},paginationWrapper:{display:"flex",justifyContent:"center",flexDirection:"column",marginTop:"1.5rem",padding:"1rem",gap:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.75rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)","@media (max-width: 600px)":{flexDirection:"column",alignItems:"center"}}},mr="https://placehold.co/400x300/F0F0F0/333333?text=Edunova+Event",ur=()=>{var e,t,i,r,n;const a=w({resolver:k(Bt),defaultValues:{title:"",description:"",price:0,paymentUrl:"",image:""},mode:"onTouched"}),{register:o,handleSubmit:c,reset:x,control:p,setValue:h,formState:{errors:m,isValid:u}}=a,[b,v]=f.useState(!1),[j,y]=f.useState(null),[C,S]=f.useState(()=>localStorage.getItem("eventView")||"grid"),[I,W]=f.useState(0),[B,A]=f.useState(10),[z,T]=f.useState(""),[R,E]=f.useState(""),[D,F]=f.useState(null),[L,H]=f.useState(!1),[U,q]=f.useState(null),[O,M]=f.useState(!1),{mutateAsync:N,isPending:_}=V(),{mutateAsync:Z,isPending:ee}=$(),{mutateAsync:te,isPending:ie}=Y(),{show:re}=G(),{data:ne,isLoading:ae,isError:oe,error:se,refetch:le}=K({page:I+1,limit:B,search:R}),{data:de}=J(D||void 0);f.useEffect(()=>{const e=setTimeout(()=>{E(z)},500);return()=>clearTimeout(e)},[z]),f.useEffect(()=>{localStorage.setItem("eventView",C)},[C]);const ce=f.useRef(null);f.useEffect(()=>{var e;if((null==(e=null==de?void 0:de.data)?void 0:e.event)&&D){const e=de.data.event;h("title",e.title),h("description",e.description),h("price",e.price),h("paymentUrl",e.paymentUrl),h("image",e.image),M(!0)}},[de,D,h]),f.useEffect(()=>{O&&ce.current&&ce.current.scrollIntoView({behavior:"smooth"})},[O,de]);const xe=e=>{F(e)},pe=()=>{F(null),M(!1),y(null),x()},he=e=>{q(e),H(!0)},me=(e,t)=>{if(e&&e.type.startsWith("image/")){y(e);t(URL.createObjectURL(e))}else re({title:"Please select a valid image file (PNG, JPG, GIF)",color:"Error"}),y(null),t("")},ue=e=>{e.preventDefault(),e.stopPropagation(),v("dragenter"===e.type||"dragover"===e.type)},ge=(e,t)=>{W(t)},fe=e=>{A(parseInt(e.target.value,10)),W(0)},be=(null==(e=null==ne?void 0:ne.data)?void 0:e.events)||[],ve=(null==ne?void 0:ne.total)||0,[je,ye]=f.useState(!1),[we,Ce]=f.useState(null);return g.jsxs("div",{ref:ce,style:xr.container,children:[g.jsxs(Ee,{sx:xr.header,children:[g.jsx(Re,{variant:"h4",component:"h1",sx:xr.title,children:O?"Edit Event":"Add New Event"}),O&&g.jsx(Ne,{variant:"outlined",onClick:pe,startIcon:g.jsx(it,{}),children:"Cancel Edit"})]}),g.jsx(Xe,{elevation:2,sx:xr.formContainer,children:g.jsx("form",{onSubmit:c(e=>d(void 0,null,function*(){var t,i;try{if(!j&&!O)return void re({title:"Please select an image for the event.",color:"Error"});O&&D?(yield Z({eventId:D,data:e,imageFile:j||void 0}),pe()):(yield N({data:e,imageFile:j}),y(null),x()),le()}catch(r){re({title:(null==(i=null==(t=null==r?void 0:r.response)?void 0:t.data)?void 0:i.message)||"Failed to save event.",color:"Error"})}})),children:g.jsxs(qe,{spacing:3,children:[g.jsx(Qe,l(s({},o("title")),{label:"Event Title",fullWidth:!0,error:!!m.title,helperText:null==(t=m.title)?void 0:t.message})),g.jsx(Qe,l(s({},o("description")),{label:"Event Description",fullWidth:!0,multiline:!0,rows:4,error:!!m.description,helperText:null==(i=m.description)?void 0:i.message})),g.jsx(Qe,l(s({},o("price")),{label:"Event Price",type:"number",fullWidth:!0,error:!!m.price,helperText:null==(r=m.price)?void 0:r.message})),g.jsx(Qe,l(s({},o("paymentUrl")),{label:"Payment URL",fullWidth:!0,error:!!m.paymentUrl,helperText:null==(n=m.paymentUrl)?void 0:n.message})),g.jsx(P,{name:"image",control:p,render:({field:e})=>g.jsxs(Ee,{children:[g.jsx(Re,{variant:"h6",gutterBottom:!0,children:"Event Image"}),g.jsxs(Ee,{sx:{border:"2px dashed",borderColor:b?"primary.main":"grey.300",borderRadius:2,p:3,textAlign:"center",cursor:"pointer",backgroundColor:b?"action.hover":"background.paper"},onDragEnter:ue,onDragLeave:ue,onDragOver:ue,onDrop:t=>((e,t)=>{var i;e.preventDefault(),e.stopPropagation(),v(!1);const r=null==(i=e.dataTransfer.files)?void 0:i[0];r&&me(r,t)})(t,e.onChange),onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},children:[g.jsx("input",{id:"image-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:t=>((e,t)=>{var i;const r=null==(i=e.target.files)?void 0:i[0];r&&me(r,t)})(t,e.onChange)}),g.jsx(rt,{sx:{fontSize:48,color:"grey.500",mb:2}}),g.jsx(Re,{variant:"body2",color:"textSecondary",children:e.value?"Image selected":"Drag and drop an image or click to select"}),e.value&&g.jsxs(Ee,{sx:{mt:2,position:"relative",display:"inline-block"},children:[g.jsx("img",{src:e.value,alt:"Preview",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px"}}),g.jsx(De,{size:"small",onClick:()=>((0,e.onChange)(""),void y(null)),sx:{position:"absolute",top:4,right:4,background:"rgba(255,255,255,0.8)",zIndex:2},children:g.jsx(it,{fontSize:"small"})})]})]})]})}),g.jsx(Ne,{type:"submit",variant:"contained",size:"large",disabled:!u||_||ee,sx:xr.submitButton,children:_||ee?g.jsx(nt,{size:24}):O?"Update Event":"Create Event"})]})})}),g.jsxs(Ee,{sx:{mt:4},children:[g.jsx(Re,{variant:"h5",component:"h2",sx:xr.subHeader,children:"Existing Events"}),g.jsxs(Ee,{sx:xr.searchAndSwitchContainer,children:[g.jsx(Qe,{label:"Search Events",variant:"outlined",size:"small",value:z,onChange:e=>T(e.target.value),InputProps:{startAdornment:g.jsx(at,{position:"start",children:g.jsx(ot,{})})},sx:xr.searchField}),g.jsxs(st,{value:C,exclusive:!0,onChange:(e,t)=>{null!==t&&S(t)},"aria-label":"event view",sx:hr.viewToggle,children:[g.jsx(lt,{value:"table","aria-label":"table view",buttonType:"block",sx:{marginRight:.5},children:g.jsx(dt,{})}),g.jsx(lt,{value:"grid","aria-label":"grid view",buttonType:"block",children:g.jsx(ct,{})})]})]}),ae?g.jsx(Ee,{sx:{display:"flex",justifyContent:"center",py:4},children:g.jsx(nt,{})}):oe?g.jsxs(_e,{severity:"error",sx:{mb:2},children:["Error loading events: ",null==se?void 0:se.message]}):0===be.length?g.jsx(_e,{severity:"info",sx:{mb:2},children:"No events found."}):g.jsx(g.Fragment,{children:"table"===C?g.jsxs(xt,{component:Xe,sx:{mb:2},children:[g.jsxs(pt,{sx:{minWidth:650},children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{sx:{fontWeight:"bold"},children:"Image"}),g.jsx(ut,{sx:{fontWeight:"bold"},children:"Title"}),g.jsx(ut,{sx:{fontWeight:"bold"},children:"Description"}),g.jsx(ut,{sx:{fontWeight:"bold"},children:"Price"}),g.jsx(ut,{sx:{fontWeight:"bold"},children:"Payment URL"}),g.jsx(ut,{sx:{fontWeight:"bold"},children:"Status"}),g.jsx(ut,{sx:{fontWeight:"bold"},align:"right",children:"Actions"})]})}),g.jsx(gt,{children:be.map(e=>g.jsxs(mt,{children:[g.jsx(ut,{children:g.jsx("img",{src:e.image||mr,alt:e.title,style:{width:"60px",height:"40px",objectFit:"cover",borderRadius:"4px"}})}),g.jsx(ut,{children:e.title}),g.jsx(ut,{children:e.description.length>50?`${e.description.substring(0,50)}...`:e.description}),g.jsx(ut,{children:0===e.price?"Free":`₹${e.price}`}),g.jsx(ut,{children:g.jsx("a",{href:e.paymentUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit"},children:e.paymentUrl.length>30?`${e.paymentUrl.substring(0,30)}...`:e.paymentUrl})}),g.jsx(ut,{children:g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"error",variant:"filled",size:"small"})}),g.jsx(ut,{align:"right",children:g.jsxs(Ee,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[g.jsx(De,{color:"primary",size:"small",onClick:()=>xe(e._id),disabled:!e.isActive||O,children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{color:"error",size:"small",onClick:()=>he(e._id),loading:ie,disabled:!e.isActive||ie||O,children:g.jsx(bt,{fontSize:"small"})}),g.jsx(De,{color:"success",size:"small",onClick:()=>{Ce(e._id),ye(!0)},children:g.jsx(vt,{fontSize:"small"})})]})})]},e._id))})]}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:ve,rowsPerPage:B,page:I,onPageChange:ge,onRowsPerPageChange:fe})]}):g.jsxs(qe,{children:[g.jsx(Ee,{sx:xr.eventGrid,children:be.map(e=>g.jsxs(Xe,{elevation:2,sx:l(s({},xr.eventCard),{display:"flex",flexDirection:"column",height:"100%"}),children:[g.jsx("img",{src:e.image||mr,alt:e.title,style:{width:"100%",height:"180px",objectFit:"cover"}}),g.jsxs(Ee,{sx:{p:2,flexGrow:1,display:"flex",flexDirection:"column"},children:[g.jsx(Re,{variant:"h6",gutterBottom:!0,children:e.title}),g.jsx(Re,{variant:"body2",color:"textSecondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description}),g.jsxs(Re,{variant:"body2",color:"primary",sx:{fontWeight:"bold",mb:2},children:["Price:"," ",0===e.price?"Free":`₹${e.price}`]}),g.jsx(Ee,{sx:{flexGrow:1}}),g.jsxs(Ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},children:[g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"error",variant:"filled",size:"small"}),g.jsxs(Ee,{sx:{display:"flex",gap:1},children:[g.jsx(De,{color:"primary",size:"small",onClick:()=>xe(e._id),disabled:!e.isActive||O,children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{color:"error",size:"small",onClick:()=>he(e._id),disabled:!e.isActive||ie||O,children:g.jsx(bt,{fontSize:"small"})}),g.jsx(De,{color:"success",size:"small",onClick:()=>{Ce(e._id),ye(!0)},children:g.jsx(vt,{fontSize:"small"})})]})]})]})]},e._id))}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:ve,rowsPerPage:B,page:I,onPageChange:ge,onRowsPerPageChange:fe,sx:xr.paginationContainer})]})})]}),g.jsx(X,{open:L,title:"Delete Event",description:"Are you sure you want to delete this event? This action cannot be undone.",onConfirm:()=>d(void 0,null,function*(){if(U)try{yield te(U),H(!1),q(null)}catch(e){}}),loading:ie,onClose:()=>{H(!1),q(null)}}),g.jsx(Q,{open:je,onClose:()=>ye(!1),eventId:we})]})},gr={padding:"0.75rem 1.25rem",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.2s ease-in-out",border:"1px solid transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontFamily:'"Inter", sans-serif',whiteSpace:"nowrap",textTransform:"none"},fr={container:{maxWidth:"1200px",margin:{xs:"1rem",md:"2rem auto"},padding:{xs:"1rem",md:"1.5rem"},backgroundColor:"#ffffff",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)"},header:{marginBottom:"1.5rem",color:"#1e293b",textAlign:"center",fontSize:{xs:"1.75rem",md:"2.25rem"},fontWeight:700},subHeader:{marginBottom:"1.5rem",color:"#334155",fontSize:{xs:"1.5rem",md:"1.75rem"},fontWeight:600},formContainer:{padding:{xs:"1rem",md:"2rem"},borderRadius:"0.75rem",backgroundColor:"#f8fafc",marginBottom:"2rem"},inputField:{marginBottom:"1.5rem","& .MuiOutlinedInput-root":l(s({},{width:"100%",padding:"0.75rem",border:"1px solid #cbd5e1",borderRadius:"0.5rem",fontSize:"1rem",transition:"all 0.2s ease-in-out",fontFamily:'"Inter", sans-serif'}),{backgroundColor:"#ffffff","& fieldset":{borderColor:"#e2e8f0"},"&:hover fieldset":{borderColor:"#94a3b8"},"&.Mui-focused fieldset":{borderColor:"#007bff",borderWidth:"2px"}}),"& .MuiInputLabel-root":{color:"#64748b"},"& .MuiFormHelperText-root":{color:"#ef4444"}},imageUploadContainer:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"1rem"},uploadButton:l(s({},gr),{backgroundColor:"#e0f2fe",color:"#0288d1",border:"1px solid #90caf9","&:hover":{backgroundColor:"#90caf9",color:"#ffffff"}}),imagePreviewBox:{position:"relative",width:"150px",height:"100px",borderRadius:"0.5rem",overflow:"hidden",border:"1px solid #e2e8f0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f0f0"},removeImageButton:{position:"absolute",top:5,right:5,backgroundColor:"rgba(255,255,255,0.7)","&:hover":{backgroundColor:"rgba(255,255,255,0.9)"},minWidth:0,padding:"4px"},submitButton:l(s({},gr),{backgroundColor:"#10b981",color:"#ffffff","&:hover":{backgroundColor:"#059669"},"&:disabled":{backgroundColor:"#a7f3d0",color:"#ffffff",cursor:"not-allowed"}}),cancelEditButton:l(s({},gr),{backgroundColor:"transparent",color:"#64748b",border:"1px solid #cbd5e1","&:hover":{backgroundColor:"#f1f5f9",borderColor:"#94a3b8"},marginLeft:"1rem"}),alert:{marginBottom:"1rem",borderRadius:"0.5rem"},searchAndSwitchContainer:{display:"flex",justifyContent:"flex-end",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap","@media (max-width: 600px)":{flexDirection:"column",alignItems:"stretch"}},searchField:{width:"300px","@media (max-width: 600px)":{width:"100%"}},loadingBox:{display:"flex",justifyContent:"center",paddingY:"2rem"},tableContainer:{boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",borderRadius:"0.75rem",overflow:"hidden"},tableHeader:{fontWeight:700,backgroundColor:"#f8fafc",color:"#334155",whiteSpace:"nowrap",padding:"1rem"},tableRow:{"&:nth-of-type(odd)":{backgroundColor:"#fefefe"},"&:hover":{backgroundColor:"#f0f4f8"}},tableCell:{color:"#475569",padding:"0.75rem 1rem"},tableActions:{display:"flex",justifyContent:"flex-end",gap:"0.5rem","& .MuiIconButton-root":{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},courseGrid:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fill, minmax(280px, 1fr))"},gap:"1.5rem"},courseCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",overflow:"hidden",display:"flex",flexDirection:"column",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)"}},courseCardContent:{padding:"1rem",display:"flex",flexDirection:"column",flexGrow:1},courseCardTitle:{fontSize:"1.25rem",fontWeight:600,color:"#1e293b",marginBottom:"0.5rem"},courseCardDescription:{fontSize:"0.875rem",color:"#475569",marginBottom:"1rem",flexGrow:1,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},courseCardActions:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap","& .action-button":l(s({},gr),{padding:"0.5rem 0.75rem",fontSize:"0.875rem",fontWeight:500,flexGrow:1,minWidth:"unset","& svg":{marginRight:"0.25rem"}}),"& .edit-button":{backgroundColor:"#ffedd5",color:"#f97316","&:hover":{backgroundColor:"#fed7aa"}},"& .delete-button":{backgroundColor:"#fee2e2",color:"#ef4444","&:hover":{backgroundColor:"#fecaca"}},"& .view-button":{backgroundColor:"#e0f7fa",color:"#00bcd4","&:hover":{backgroundColor:"#b2ebf2"}}},paginationContainer:{display:"flex",justifyContent:"center",marginTop:"1.5rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.75rem",boxShadow:"0 2px 8px rgba(0,0,0,0.04)","@media (max-width: 600px)":{flexDirection:"column",alignItems:"center"}}},br="https://placehold.co/600x400?text=Course",vr=()=>{var e,t,i,r,n,a,o,c,x,p,h,m,u;const[b,v]=f.useState(null),[j,y]=f.useState(null),[C,S]=f.useState(()=>localStorage.getItem("courseView")||"table"),[I,W]=f.useState(!1),[B,A]=f.useState(null),[z,T]=f.useState(null),[R,E]=f.useState(!1),[D,F]=f.useState(null),[L,H]=f.useState(0),[U,q]=f.useState(10),[O,M]=f.useState(""),[N,_]=f.useState(""),{data:V,isLoading:$,isError:Y,error:G,refetch:K}=Z({page:L+1,limit:U,search:N}),{data:J,isLoading:Q}=ee(z||void 0),ae=te(),oe=ie(),se=re(),{handleSubmit:le,control:de,reset:ce,setValue:xe,formState:{errors:pe,isSubmitting:he}}=w({resolver:k(At),defaultValues:{title:"",description:"",image:void 0}});f.useEffect(()=>{const e=setTimeout(()=>{_(O)},500);return()=>clearTimeout(e)},[O]),f.useEffect(()=>{var e;if(z&&(null==(e=null==J?void 0:J.data)?void 0:e.course)){const e=J.data.course;xe("title",e.title),xe("description",e.description),y(e.image||null)}else z||(ce(),y(null),v(null))},[z,J,xe,ce]),f.useEffect(()=>{localStorage.setItem("courseView",C)},[C]);const me=e=>{T(e._id),A(e)},ue=e=>{F(e),E(!0)},ge=e=>{A(e),W(!0)},fe=(e,t)=>{H(t)},be=e=>{q(parseInt(e.target.value,10)),H(0)},ve=(null==(e=null==V?void 0:V.data)?void 0:e.courses)||[],je=(null==V?void 0:V.total)||0;return g.jsxs(g.Fragment,{children:[g.jsxs(Ee,{sx:fr.container,children:[g.jsx(Re,{variant:"h4",component:"h1",sx:fr.header,children:z?"Edit Course":"Add New Course"}),(ae.isError||oe.isError||se.isError)&&g.jsx(_e,{severity:"error",sx:fr.alert,children:(null==(r=null==(i=null==(t=ae.error)?void 0:t.response)?void 0:i.data)?void 0:r.message)||(null==(o=null==(a=null==(n=oe.error)?void 0:n.response)?void 0:a.data)?void 0:o.message)||(null==(p=null==(x=null==(c=se.error)?void 0:c.response)?void 0:x.data)?void 0:p.message)||"An unexpected error occurred."}),(ae.isSuccess||oe.isSuccess||se.isSuccess)&&g.jsx(_e,{severity:"success",sx:fr.alert,children:(null==(h=ae.data)?void 0:h.message)||(null==(m=oe.data)?void 0:m.message)||(null==(u=se.data)?void 0:u.message)||"Operation successful!"}),g.jsx(Xe,{elevation:3,sx:fr.formContainer,children:g.jsxs("form",{onSubmit:le(e=>d(void 0,null,function*(){try{if(z)yield oe.mutateAsync({courseId:z,coursePayload:{title:e.title,description:e.description},imageFile:b||void 0});else{if(!b)return;yield ae.mutateAsync({course:{title:e.title,description:e.description},imageFile:b})}ce(),v(null),y(null),T(null),K()}catch(t){}})),children:[g.jsx(P,{name:"title",control:de,render:({field:e})=>{var t;return g.jsx(Qe,l(s({},e),{label:"Course Title",variant:"outlined",fullWidth:!0,sx:fr.inputField,error:!!pe.title,helperText:null==(t=pe.title)?void 0:t.message}))}}),g.jsx(P,{name:"description",control:de,render:({field:e})=>{var t;return g.jsx(Qe,l(s({},e),{label:"Course Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,sx:fr.inputField,error:!!pe.description,helperText:null==(t=pe.description)?void 0:t.message}))}}),g.jsxs(Ee,{sx:fr.imageUploadContainer,children:[g.jsx("input",{accept:"image/*",style:{display:"none"},id:"course-image-upload",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];v(t),y(URL.createObjectURL(t)),xe("image",t)}else v(null),y(null),xe("image",void 0)}}),g.jsx("label",{htmlFor:"course-image-upload",children:g.jsx(Ne,{variant:"outlined",component:"span",startIcon:g.jsx(rt,{}),sx:fr.uploadButton,children:"Upload Image"})}),j&&g.jsxs(Ee,{sx:fr.imagePreviewBox,children:[g.jsx("img",{src:j,alt:"Course Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),g.jsx(De,{onClick:()=>{y(null),v(null),xe("image",void 0)},sx:fr.removeImageButton,children:g.jsx(it,{})})]}),pe.image&&g.jsx(Re,{color:"error",variant:"body2",sx:{mt:1},children:pe.image.message})]}),g.jsx(Ne,{type:"submit",variant:"contained",color:"primary",sx:fr.submitButton,disabled:he||ae.isPending||oe.isPending,children:he||ae.isPending||oe.isPending?g.jsx(nt,{size:24,color:"inherit"}):z?"Update Course":"Create Course"}),z&&g.jsx(Ne,{variant:"outlined",color:"secondary",onClick:()=>{T(null),ce(),y(null),v(null)},sx:fr.cancelEditButton,children:"Cancel Edit"})]})}),g.jsxs(Ee,{sx:{mt:4},children:[g.jsx(Re,{variant:"h5",component:"h2",sx:fr.subHeader,children:"Existing Courses"}),g.jsxs(Ee,{sx:fr.searchAndSwitchContainer,children:[g.jsx(Qe,{label:"Search Courses",variant:"outlined",size:"small",value:O,onChange:e=>M(e.target.value),InputProps:{startAdornment:g.jsx(at,{position:"start",children:g.jsx(ot,{})})},sx:fr.searchField}),g.jsxs(st,{value:C,exclusive:!0,onChange:(e,t)=>{null!==t&&S(t)},"aria-label":"blog view",sx:hr.viewToggle,children:[g.jsx(lt,{value:"table","aria-label":"table view",buttonType:"block",sx:{marginRight:.5},children:g.jsx(dt,{})}),g.jsx(lt,{value:"grid","aria-label":"grid view",buttonType:"block",children:g.jsx(ct,{})})]})]}),$?g.jsx(Ee,{sx:fr.loadingBox,children:g.jsx(nt,{})}):Y?g.jsxs(_e,{severity:"error",sx:fr.alert,children:["Error loading courses: ",null==G?void 0:G.message]}):0===ve.length?g.jsx(_e,{severity:"info",sx:fr.alert,children:"No courses found."}):g.jsx(g.Fragment,{children:"table"===C?g.jsxs(xt,{component:Xe,sx:fr.tableContainer,children:[g.jsxs(pt,{children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{sx:fr.tableHeader,children:"Image"}),g.jsx(ut,{sx:fr.tableHeader,children:"Title"}),g.jsx(ut,{sx:fr.tableHeader,children:"Description"}),g.jsx(ut,{sx:fr.tableHeader,children:"Created By"}),g.jsx(ut,{sx:fr.tableHeader,children:"Status"}),g.jsx(ut,{sx:fr.tableHeader,align:"right",children:"Actions"})]})}),g.jsx(gt,{children:ve.map(e=>g.jsxs(mt,{sx:fr.tableRow,children:[g.jsx(ut,{children:g.jsx("img",{src:e.image||br,alt:e.title,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px",flexShrink:0}})}),g.jsx(ut,{sx:fr.tableCell,children:e.title}),g.jsx(ut,{sx:fr.tableCell,children:e.description.length>50?`${e.description.substring(0,50)}...`:e.description}),g.jsx(ut,{sx:fr.tableCell,children:"object"==typeof e.createdBy&&null!==e.createdBy?e.createdBy.name:"Admin"}),g.jsx(ut,{sx:fr.tableCell,children:g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"error",variant:"filled",size:"small"})}),g.jsx(ut,{align:"right",sx:fr.tableCell,children:g.jsxs(Ee,{sx:fr.tableActions,children:[g.jsx(De,{size:"small",onClick:()=>me(e),"aria-label":"edit course",disabled:!e.isActive,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{size:"small",onClick:()=>ge(e),"aria-label":"view course",children:g.jsx(vt,{fontSize:"small"})}),g.jsx(De,{size:"small",onClick:()=>ue(e._id),"aria-label":"delete course",disabled:!e.isActive||se.isPending,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(bt,{fontSize:"small"})})]})})]},e._id))})]}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:je,rowsPerPage:U,page:L,onPageChange:fe,onRowsPerPageChange:be})]}):g.jsxs(qe,{children:[g.jsx(Ee,{sx:fr.courseGrid,children:ve.map(e=>g.jsxs(Xe,{elevation:2,sx:fr.courseCard,children:[g.jsx("img",{src:e.image||br,alt:e.title,style:{width:"100%",height:"180px",objectFit:"cover"}}),g.jsxs(Ee,{sx:fr.courseCardContent,children:[g.jsx(Re,{variant:"h6",sx:fr.courseCardTitle,children:e.title}),g.jsx(Re,{variant:"body2",sx:fr.courseCardDescription,children:e.description}),g.jsxs(Re,{variant:"body2",color:"text.secondary",children:["Status: ",e.isActive?"Active":"Inactive"]}),g.jsxs(Ee,{sx:fr.courseCardActions,children:[g.jsx(De,{color:"primary",size:"small",onClick:()=>me(e),disabled:!e.isActive,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{color:"error",size:"small",onClick:()=>ue(e._id),disabled:!e.isActive||se.isPending,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(bt,{fontSize:"small"})}),g.jsx(De,{color:"success",size:"small",onClick:()=>ge(e),children:g.jsx(vt,{fontSize:"small"})})]})]})]},e._id))}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:je,rowsPerPage:U,page:L,onPageChange:fe,onRowsPerPageChange:be,sx:fr.paginationContainer})]})})]})]}),g.jsx(ne,{open:I,onClose:()=>W(!1),course:B,loading:Q}),g.jsx(X,{open:R,onClose:()=>{E(!1),F(null)},onConfirm:()=>d(void 0,null,function*(){D&&(yield se.mutateAsync(D),E(!1),F(null),K())}),title:"Confirm Deletion",description:"Are you sure you want to delete this course? This action cannot be undone.",loading:se.isPending})]})},jr=c().shape({title:x().trim().min(3,"Title must be at least 3 characters").max(200,"Title cannot exceed 200 characters").required("Blog title is required"),description:x().trim().min(3,"Description must be at least 3 characters").max(5e3,"Description cannot exceed 5000 characters").required("Blog description is required"),image:u().test("fileType","Unsupported File Format. Only images are allowed.",e=>!e||("string"==typeof e||e&&e.type.startsWith("image/"))).test("fileSize","Image must be less than 10MB.",e=>!e||("string"==typeof e||e&&e.size<=10485760)).optional()}),yr="https://placehold.co/600x400/CCCCCC/000000?text=No+Image",wr=()=>{var e;const[t,i]=f.useState(null),[r,n]=f.useState(null),[a,o]=f.useState(()=>localStorage.getItem("blogView")||"table"),[c,x]=f.useState(!1),[p,h]=f.useState(null),[m,u]=f.useState(null),[b,v]=f.useState(!1),[j,y]=f.useState(null),[C,S]=f.useState(0),[I,W]=f.useState(10),[B,A]=f.useState(""),[z,T]=f.useState(""),{data:R,isLoading:E,isError:D,error:F,refetch:L}=ae({page:C+1,limit:I,search:z}),{data:H}=oe(m||""),U=se(),q=le(),O=de(),{show:M}=G(),{handleSubmit:N,control:_,reset:V,setValue:$,formState:{errors:Y,isSubmitting:K}}=w({resolver:k(jr),defaultValues:{title:"",description:"",image:void 0}});f.useEffect(()=>{const e=setTimeout(()=>{T(B)},500);return()=>clearTimeout(e)},[B]),f.useEffect(()=>{var e;if(m&&(null==(e=null==H?void 0:H.data)?void 0:e.blog)){const e=H.data.blog;$("title",e.title),$("description",e.description),n(e.image||null)}else m||(V(),n(null),i(null))},[m,H,$,V]),f.useEffect(()=>{localStorage.setItem("blogView",a)},[a]);const J=e=>{u(e._id),h(e)},Q=e=>{y(e),v(!0)},Z=e=>{h(e),x(!0)},ee=(e,t)=>{S(t)},te=e=>{W(parseInt(e.target.value,10)),S(0)},ie=(null==(e=null==R?void 0:R.data)?void 0:e.blogs)||[],re=(null==R?void 0:R.total)||0;return g.jsxs(Ee,{sx:hr.container,children:[g.jsx(Re,{variant:"h4",component:"h1",sx:hr.header,children:m?"Edit Blog":"Add New Blog"}),g.jsx(Xe,{elevation:3,sx:hr.formContainer,children:g.jsxs("form",{onSubmit:N(e=>d(void 0,null,function*(){var r,a;try{if(m)yield q.mutateAsync({blogId:m,blogPayload:{title:e.title,description:e.description},imageFile:t||void 0});else{if(!t)return void M({title:"Please select an image for the blog.",color:"Error"});yield U.mutateAsync({blog:{title:e.title,description:e.description},imageFile:t})}}catch(o){M({title:(null==(a=null==(r=null==o?void 0:o.response)?void 0:r.data)?void 0:a.message)||"Operation failed.",color:"Error"})}finally{V(),i(null),n(null),u(null),L()}})),children:[g.jsx(P,{name:"title",control:_,render:({field:e})=>{var t;return g.jsx(Qe,l(s({},e),{label:"Blog Title",variant:"outlined",fullWidth:!0,sx:hr.inputField,error:!!Y.title,helperText:null==(t=Y.title)?void 0:t.message}))}}),g.jsx(P,{name:"description",control:_,render:({field:e})=>{var t;return g.jsx(Qe,l(s({},e),{label:"Blog Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:6,sx:hr.inputField,error:!!Y.description,helperText:null==(t=Y.description)?void 0:t.message}))}}),g.jsxs(Ee,{sx:hr.imageUploadContainer,children:[g.jsx("input",{accept:"image/*",style:{display:"none"},id:"blog-image-upload",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];i(t),n(URL.createObjectURL(t)),$("image",t)}else i(null),n(null),$("image",void 0)}}),g.jsx("label",{htmlFor:"blog-image-upload",children:g.jsx(Ne,{variant:"outlined",component:"span",startIcon:g.jsx(rt,{}),sx:hr.uploadButton,children:"Upload Image"})}),r&&g.jsxs(Ee,{sx:hr.imagePreviewBox,children:[g.jsx("img",{src:r,alt:"Blog Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),g.jsx(De,{onClick:()=>{n(null),i(null),$("image",void 0)},sx:hr.removeImageButton,children:g.jsx(it,{})})]}),Y.image&&g.jsx(Re,{color:"error",variant:"body2",sx:{mt:1},children:Y.image.message})]}),g.jsx(Ne,{type:"submit",variant:"contained",color:"primary",sx:hr.submitButton,disabled:K||U.isPending||q.isPending,children:m?"Update Blog":"Create Blog"}),m&&g.jsx(Ne,{variant:"outlined",color:"secondary",onClick:()=>{u(null),V(),n(null),i(null)},sx:hr.cancelEditButton,children:"Cancel Edit"})]})}),g.jsxs(Ee,{sx:{mt:4},children:[g.jsx(Re,{variant:"h5",component:"h2",sx:hr.subHeader,children:"Existing Blogs"}),g.jsxs(Ee,{sx:hr.searchAndSwitchContainer,children:[g.jsx(Qe,{label:"Search Blogs",variant:"outlined",size:"small",value:B,onChange:e=>A(e.target.value),InputProps:{startAdornment:g.jsx(at,{position:"start",children:g.jsx(ot,{})})},sx:hr.searchField}),g.jsxs(st,{value:a,exclusive:!0,onChange:(e,t)=>{null!==t&&o(t)},"aria-label":"blog view",sx:hr.viewToggle,children:[g.jsx(lt,{value:"table","aria-label":"table view",buttonType:"block",sx:{marginRight:.5},children:g.jsx(dt,{})}),g.jsx(lt,{value:"grid","aria-label":"grid view",buttonType:"block",children:g.jsx(ct,{})})]})]}),E?g.jsx(Ee,{sx:hr.loadingBox,children:g.jsx(nt,{})}):D?g.jsxs(_e,{severity:"error",sx:hr.alert,children:["Error loading blogs: ",null==F?void 0:F.message]}):0===ie.length?g.jsx(_e,{severity:"info",sx:hr.alert,children:"No blogs found."}):g.jsx(g.Fragment,{children:"table"===a?g.jsxs(xt,{component:Xe,sx:hr.tableContainer,children:[g.jsxs(pt,{sx:{minWidth:650},children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{sx:hr.tableHeader,children:"Image"}),g.jsx(ut,{sx:hr.tableHeader,children:"Title"}),g.jsx(ut,{sx:hr.tableHeader,children:"Description"}),g.jsx(ut,{sx:hr.tableHeader,children:"Created By"}),g.jsx(ut,{sx:hr.tableHeader,children:"Status"}),g.jsx(ut,{sx:hr.tableHeader,align:"right",children:"Actions"})]})}),g.jsx(gt,{children:E?g.jsx(mt,{children:g.jsx(ut,{colSpan:6,sx:hr.tableCell,children:g.jsx(nt,{})})}):ie.map(e=>g.jsxs(mt,{sx:hr.tableRow,children:[g.jsx(ut,{children:g.jsx("img",{src:e.image||yr,alt:e.title,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px",flexShrink:0}})}),g.jsx(ut,{sx:hr.tableCell,children:e.title}),g.jsx(ut,{sx:hr.tableCell,children:e.description.length>50?`${e.description.substring(0,50)}...`:e.description}),g.jsx(ut,{sx:hr.tableCell,children:e.createdBy&&"object"==typeof e.createdBy?e.createdBy.name:"N/A"}),g.jsx(ut,{sx:hr.tableCell,children:g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"error",variant:"filled",size:"small",sx:{fontSize:"0.8rem"}})}),g.jsx(ut,{align:"right",sx:hr.tableCell,children:g.jsxs(Ee,{sx:hr.tableActions,children:[g.jsx(De,{size:"small",onClick:()=>J(e),"aria-label":"edit blog",disabled:!e.isActive,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{size:"small",onClick:()=>Z(e),"aria-label":"view blog",children:g.jsx(vt,{fontSize:"small"})}),g.jsx(De,{size:"small",onClick:()=>Q(e._id),"aria-label":"delete blog",disabled:!e.isActive||O.isPending,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(bt,{fontSize:"small"})})]})})]},e._id))})]}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:re,rowsPerPage:I,page:C,onPageChange:ee,onRowsPerPageChange:te,sx:hr.paginationWrapper})]}):g.jsxs(qe,{children:[g.jsx(Ee,{sx:hr.blogGrid,children:ie.map(e=>g.jsxs(Xe,{elevation:2,sx:hr.blogCard,children:[g.jsx("img",{src:e.image||yr,alt:e.title,style:{width:"100%",height:"180px",objectFit:"cover"}}),g.jsxs(Ee,{sx:hr.blogCardContent,children:[g.jsx(Re,{variant:"h6",sx:hr.blogCardTitle,children:e.title}),g.jsx(Re,{variant:"body2",sx:hr.blogCardDescription,children:e.description}),g.jsxs(Re,{variant:"body2",color:"text.secondary",children:["Created By:"," ",e.createdBy&&"object"==typeof e.createdBy?e.createdBy.name:"N/A"]}),g.jsxs(Re,{variant:"body2",color:"text.secondary",children:["Status: ",e.isActive?"Active":"Inactive"]}),g.jsxs(Ee,{sx:hr.blogCardActions,children:[g.jsx(De,{color:"primary",size:"small",onClick:()=>J(e),disabled:!e.isActive,title:e.isActive?"Edit blog":"Cannot edit inactive blog",children:g.jsx(ft,{fontSize:"small"})}),g.jsx(De,{color:"error",size:"small",onClick:()=>Q(e._id),disabled:!e.isActive||O.isPending,sx:{cursor:e.isActive?"pointer":"not-allowed !important"},children:g.jsx(bt,{fontSize:"small"})}),g.jsx(De,{color:"success",size:"small",onClick:()=>Z(e),children:g.jsx(vt,{fontSize:"small"})})]})]})]},e._id))}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:re,rowsPerPage:I,page:C,onPageChange:ee,onRowsPerPageChange:te,sx:hr.paginationWrapper})]})})]}),g.jsx(ce,{open:c,onClose:()=>x(!1),blog:p}),g.jsx(X,{open:b,onClose:()=>{v(!1),y(null)},onConfirm:()=>d(void 0,null,function*(){j&&(yield O.mutateAsync(j),v(!1),y(null),L())}),title:"Confirm Deletion",description:"Are you sure you want to delete this blog? This action cannot be undone.",loading:O.isPending})]})},Cr=()=>{var e,t,i,r;const[n,a]=f.useState(0),[o,s]=f.useState(10),[l,d]=f.useState(""),{data:c,isLoading:x}=xe(),{data:p,isLoading:h}=xe({page:n+1,limit:o}),m=(null==(e=null==c?void 0:c.data)?void 0:e.users)||[],u=(null==(t=null==p?void 0:p.data)?void 0:t.users)||[],b=(null==(r=null==(i=null==c?void 0:c.data)?void 0:i.pagination)?void 0:r.totalUsers)||0,v=f.useMemo(()=>{if(!l.trim())return u;const e=l.toLowerCase();return m.filter(t=>{var i,r,n;return(null==(i=t.name)?void 0:i.toLowerCase().includes(e))||(null==(r=t.email)?void 0:r.toLowerCase().includes(e))||(null==(n=t._id)?void 0:n.toLowerCase().includes(e))})},[m,u,l]),j=l.trim().length>0,y=v.length,w=n*o,C=w+o,k=v.slice(w,C),S=j?k:u,I=j?y:b,P=j?x:h;return g.jsxs(Ee,{sx:Ji.container,children:[g.jsx(Re,{variant:"h5.600",sx:{mb:2},children:"Users"}),g.jsx(Re,{variant:"body2",sx:{mb:2},children:"Manage users for your website. Users to showcase your clients' feedback."}),g.jsx(Ee,{sx:{display:"flex",alignItems:"center",mb:2,justifyContent:"flex-end"},children:g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:2,px:1.5,py:.5,background:"#fff",width:320},children:[g.jsx("span",{style:{color:"#888",marginRight:8,fontSize:22},children:g.jsxs("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#888",strokeWidth:"2"}),g.jsx("path",{stroke:"#888",strokeWidth:"2",strokeLinecap:"round",d:"M20 20l-3-3"})]})}),g.jsx("input",{type:"text",placeholder:"Search by name, email, or ID",value:l,onChange:e=>{d(e.target.value),a(0)},style:{border:"none",outline:"none",fontSize:16,width:"100%",background:"transparent"}})]})}),g.jsx(xt,{component:Xe,sx:{minHeight:500,maxHeight:500,overflow:"auto",boxShadow:1},children:g.jsxs(pt,{stickyHeader:!0,children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{children:"ID"}),g.jsx(ut,{children:"Name"}),g.jsx(ut,{children:"Email"}),g.jsx(ut,{children:"Join Date"})]})}),g.jsx(gt,{children:P?g.jsx(mt,{children:g.jsx(ut,{colSpan:4,align:"center",children:g.jsx(Ee,{sx:{py:6},children:g.jsx(nt,{})})})}):0===S.length?g.jsx(mt,{children:g.jsx(ut,{colSpan:4,align:"center",children:g.jsx(Re,{color:"text.secondary",children:j?"No users found matching your search.":"No users found."})})}):S.map(e=>g.jsxs(mt,{children:[g.jsx(ut,{children:e._id}),g.jsx(ut,{children:e.name}),g.jsx(ut,{children:e.email}),g.jsx(ut,{children:e.createdAt.split("T")[0]})]},e._id))})]})}),g.jsx(jt,{component:"div",count:I,page:n,onPageChange:(e,t)=>{a(t)},rowsPerPage:o,onRowsPerPageChange:e=>{s(parseInt(e.target.value,10)),a(0)},rowsPerPageOptions:[5,10,25]})]})},kr={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modal:{backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"hidden",position:"relative",animation:"modalSlideIn 0.3s ease-out"},header:{padding:"24px 32px 16px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontSize:"24px",fontWeight:"700",color:"#1e293b",margin:0,fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},closeButton:{background:"none",border:"none",fontSize:"24px",color:"#64748b",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px","&:hover":{backgroundColor:"#f1f5f9",color:"#1e293b"}},content:{padding:"32px",maxHeight:"calc(90vh - 120px)",overflowY:"auto"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"14px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},sectionContent:{fontSize:"16px",color:"#1e293b",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},userInfo:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},avatar:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"600",flexShrink:0},userDetails:{flex:1},userName:{fontSize:"20px",fontWeight:"600",color:"#1e293b",marginBottom:"4px",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},userEmail:{fontSize:"14px",color:"#64748b",marginBottom:"4px",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},userPhone:{fontSize:"14px",color:"#64748b",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},messageContainer:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",maxHeight:"150px",overflowY:"auto"},messageText:{fontSize:"16px",lineHeight:"1.6",color:"#374151",whiteSpace:"pre-wrap",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},statusBadge:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},statusResolved:{backgroundColor:"#dcfce7",color:"#166534"},statusPending:{backgroundColor:"#fef3c7",color:"#92400e"},dateInfo:{display:"flex",gap:"24px",marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},dateItem:{flex:1},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 32px",gap:"16px"},loadingSpinner:{width:"40px",height:"40px",border:"4px solid #e2e8f0",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},errorContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 32px",gap:"16px",color:"#dc2626"}},Sr=({enquiryId:e,onClose:t})=>{var i,r,n,a,o,l,d,c,x,p,h,m,u,f,b,v,j,y,w;const{data:C,isLoading:k,error:S}=pe(e);return e?g.jsxs("div",{style:kr.overlay,onClick:e=>{e.target===e.currentTarget&&t()},onKeyDown:e=>{"Escape"===e.key&&t()},tabIndex:-1,children:[g.jsxs("div",{style:kr.modal,children:[g.jsxs("div",{style:kr.header,children:[g.jsx("h2",{style:kr.title,children:"Enquiry Details"}),g.jsx("button",{onClick:t,style:kr.closeButton,"aria-label":"Close modal",children:"✕"})]}),g.jsx("div",{style:kr.content,children:k?g.jsxs("div",{style:kr.loadingContainer,children:[g.jsx("div",{style:kr.loadingSpinner}),g.jsx("p",{children:"Loading enquiry details..."})]}):S?g.jsxs("div",{style:kr.errorContainer,children:[g.jsx("h3",{children:"Error loading enquiry"}),g.jsx("p",{children:"Please try again later."})]}):C?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:kr.userInfo,children:[g.jsx("div",{style:kr.avatar,children:null==(n=null==(r=null==(i=null==C?void 0:C.data)?void 0:i.enquiryById)?void 0:r.fullName)?void 0:n.charAt(0).toUpperCase()}),g.jsxs("div",{style:kr.userDetails,children:[g.jsx("div",{style:kr.userName,children:null==(o=null==(a=null==C?void 0:C.data)?void 0:a.enquiryById)?void 0:o.fullName}),g.jsx("div",{style:kr.userEmail,children:null==(d=null==(l=null==C?void 0:C.data)?void 0:l.enquiryById)?void 0:d.email}),g.jsx("div",{style:kr.userPhone,children:null==(x=null==(c=null==C?void 0:C.data)?void 0:c.enquiryById)?void 0:x.phone})]}),g.jsx("div",{style:s(s({},kr.statusBadge),(null==(h=null==(p=null==C?void 0:C.data)?void 0:p.enquiryById)?void 0:h.isResolved)?kr.statusResolved:kr.statusPending),children:(null==(u=null==(m=null==C?void 0:C.data)?void 0:m.enquiryById)?void 0:u.isResolved)?"Resolved":"Pending"})]}),g.jsxs("div",{style:kr.section,children:[g.jsx("div",{style:kr.sectionTitle,children:"Message"}),g.jsx("div",{style:kr.messageContainer,children:g.jsx("div",{style:kr.messageText,children:null==(b=null==(f=null==C?void 0:C.data)?void 0:f.enquiryById)?void 0:b.message})})]}),g.jsxs("div",{style:kr.dateInfo,children:[g.jsxs("div",{style:kr.dateItem,children:[g.jsx("div",{style:kr.sectionTitle,children:"Created"}),g.jsx("div",{style:kr.sectionContent,children:new Date((null==(j=null==(v=null==C?void 0:C.data)?void 0:v.enquiryById)?void 0:j.createdAt)||"").toLocaleString()})]}),g.jsxs("div",{style:kr.dateItem,children:[g.jsx("div",{style:kr.sectionTitle,children:"Last Updated"}),g.jsx("div",{style:kr.sectionContent,children:new Date((null==(w=null==(y=null==C?void 0:C.data)?void 0:y.enquiryById)?void 0:w.updatedAt)||"").toLocaleString()})]})]})]}):null})]}),g.jsx("style",{children:"\n          @keyframes modalSlideIn {\n            from {\n              opacity: 0;\n              transform: scale(0.9) translateY(-20px);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1) translateY(0);\n            }\n          }\n          \n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):null},Ir={header:{marginBottom:"32px",textAlign:"start"},title:{fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},subtitle:{fontSize:"16px",color:"#64748b",margin:"0",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},searchContainer:{marginBottom:"24px",marginLeft:"auto"},searchWrapper:{position:"relative",maxWidth:"400px",marginLeft:"auto"},searchInput:{width:"100%",padding:"16px 48px 16px 16px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",color:"#1e293b",backgroundColor:"#ffffff",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif',transition:"all 0.2s ease",outline:"none"},searchIcon:{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",fontSize:"18px",color:"#64748b",pointerEvents:"none"},tableContainer:{backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",border:"1px solid #e2e8f0"},table:{width:"100%",borderCollapse:"collapse",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, sans-serif'},tableHeader:{backgroundColor:"#f8fafc",borderBottom:"2px solid #e2e8f0"},tableHeaderCell:{padding:"20px 16px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},tableRow:{borderBottom:"1px solid #f1f5f9",transition:"background-color 0.2s ease",cursor:"pointer","&:hover":{backgroundColor:"#f8fafc"}},tableCell:{padding:"16px",fontSize:"14px",color:"#374151",verticalAlign:"middle"},nameCell:{display:"flex",alignItems:"center",gap:"12px"},avatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"600",flexShrink:0},emailLink:{color:"#3b82f6",textDecoration:"none",fontWeight:"500","&:hover":{textDecoration:"underline"}},phoneLink:{color:"#059669",textDecoration:"none",fontWeight:"500","&:hover":{textDecoration:"underline"}},messageCell:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},statusCell:{display:"flex",alignItems:"center",gap:"12px"},switch:{position:"relative",display:"inline-block",width:"50px",height:"24px"},switchInput:{opacity:0,width:0,height:0},slider:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:"#cbd5e1",transition:"0.3s",borderRadius:"24px"},sliderBefore:{position:"absolute",content:'""',height:"18px",width:"18px",left:"3px",bottom:"3px",backgroundColor:"#ffffff",transition:"0.3s",borderRadius:"50%"},sliderChecked:{backgroundColor:"#10b981"},sliderBeforeChecked:{transform:"translateX(26px)"},statusText:{fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},noDataCell:{textAlign:"center",padding:"48px 16px",color:"#64748b",fontSize:"16px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px 16px",gap:"16px"},loadingSpinner:{width:"32px",height:"32px",border:"3px solid #e2e8f0",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},errorContainer:{textAlign:"center",padding:"48px 16px",color:"#dc2626"},paginationContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"24px 16px",borderTop:"1px solid #e2e8f0",backgroundColor:"#f8fafc"},paginationButton:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:"#f3f4f6",borderColor:"#9ca3af"},"&:disabled":{backgroundColor:"#f9fafb",color:"#9ca3af",cursor:"not-allowed",borderColor:"#e5e7eb"}},paginationButtonDisabled:{backgroundColor:"#f9fafb",color:"#9ca3af",cursor:"not-allowed",borderColor:"#e5e7eb"},pageNumbers:{display:"flex",gap:"8px"},pageButton:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",minWidth:"36px","&:hover":{backgroundColor:"#f3f4f6",borderColor:"#9ca3af"}},pageButtonActive:{backgroundColor:"#3b82f6",color:"#ffffff",borderColor:"#3b82f6","&:hover":{backgroundColor:"#2563eb",borderColor:"#2563eb"}},summary:{padding:"16px",textAlign:"center",color:"#64748b",fontSize:"14px",borderTop:"1px solid #e2e8f0",backgroundColor:"#f8fafc"}},Pr=()=>{var e,t,i;const[r,n]=f.useState(1),[a,o]=f.useState(""),[c]=f.useState(10),[x,p]=f.useState(void 0),{data:h,isLoading:m,error:u}=he({page:r,limit:c}),b=me(),v=f.useMemo(()=>{var e;if(!(null==(e=null==h?void 0:h.data)?void 0:e.enquiries))return[];if(!a.trim())return h.data.enquiries;const t=a.toLowerCase();return h.data.enquiries.filter(e=>e.fullName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.includes(a))},[null==(e=null==h?void 0:h.data)?void 0:e.enquiries,a]),j=(e,t,i)=>d(void 0,null,function*(){i.stopPropagation(),t||(yield b.mutateAsync(e))}),y=e=>{n(e)},w=(null==(t=null==h?void 0:h.data)?void 0:t.totalPages)||1;return u?g.jsx("div",{style:Ji.container,children:g.jsxs("div",{style:Ir.errorContainer,children:[g.jsx("h2",{children:"Error loading enquiries"}),g.jsx("p",{children:"Please try again later."})]})}):g.jsxs("div",{style:Ji.container,children:[g.jsxs("div",{style:Ir.header,children:[g.jsx("h1",{style:Ir.title,children:"Enquiry Management"}),g.jsx("p",{style:Ir.subtitle,children:"Manage and resolve customer enquiries"})]}),g.jsx("div",{style:Ir.searchContainer,children:g.jsxs("div",{style:Ir.searchWrapper,children:[g.jsx("input",{type:"text",placeholder:"Search by name, email, or phone number...",value:a,onChange:e=>o(e.target.value),style:Ir.searchInput}),g.jsx("div",{style:Ir.searchIcon,children:"🔍"})]})}),g.jsx("div",{style:Ir.tableContainer,children:m?g.jsxs("div",{style:Ir.loadingContainer,children:[g.jsx("div",{style:Ir.loadingSpinner}),g.jsx("p",{children:"Loading enquiries..."})]}):g.jsxs(g.Fragment,{children:[g.jsxs("table",{style:Ir.table,children:[g.jsx("thead",{children:g.jsxs("tr",{style:Ir.tableHeader,children:[g.jsx("th",{style:Ir.tableHeaderCell,children:"Name"}),g.jsx("th",{style:Ir.tableHeaderCell,children:"Email"}),g.jsx("th",{style:Ir.tableHeaderCell,children:"Phone"}),g.jsx("th",{style:Ir.tableHeaderCell,children:"Message"}),g.jsx("th",{style:Ir.tableHeaderCell,children:"Status"}),g.jsx("th",{style:Ir.tableHeaderCell,children:"Date"})]})}),g.jsx("tbody",{children:0===v.length?g.jsx("tr",{children:g.jsx("td",{colSpan:6,style:Ir.noDataCell,children:"No enquiries found"})}):v.map(e=>g.jsxs("tr",{style:Ir.tableRow,onClick:t=>{var i;t.stopPropagation(),i=e._id,p(i)},children:[g.jsx("td",{style:Ir.tableCell,children:g.jsxs("div",{style:Ir.nameCell,children:[g.jsx("div",{style:Ir.avatar,children:e.fullName.charAt(0).toUpperCase()}),g.jsx("span",{children:e.fullName})]})}),g.jsx("td",{style:Ir.tableCell,children:g.jsx("a",{href:`mailto:${e.email}`,style:Ir.emailLink,onClick:e=>e.stopPropagation(),children:e.email})}),g.jsx("td",{style:Ir.tableCell,children:g.jsx("a",{href:`tel:${e.phone}`,style:Ir.phoneLink,onClick:e=>e.stopPropagation(),children:e.phone})}),g.jsx("td",{style:Ir.tableCell,children:g.jsx("div",{style:Ir.messageCell,children:e.message.length>50?`${e.message.substring(0,50)}...`:e.message})}),g.jsx("td",{style:Ir.tableCell,onClick:e=>e.stopPropagation(),children:g.jsxs("div",{style:Ir.statusCell,children:[g.jsxs("label",{style:Ir.switch,children:[g.jsx("input",{type:"checkbox",checked:e.isResolved,onChange:t=>{t.stopPropagation(),j(e._id,e.isResolved,{})},onClick:t=>{t.stopPropagation(),j(e._id,e.isResolved,t)},disabled:b.isPending,style:Ir.switchInput}),g.jsx("span",{style:s(s({},Ir.slider),e.isResolved&&Ir.sliderChecked),children:g.jsx("span",{style:s(s({},Ir.sliderBefore),e.isResolved&&Ir.sliderBeforeChecked)})})]}),g.jsx("span",{style:l(s({},Ir.statusText),{color:e.isResolved?"#10b981":"#6b7280"}),children:e.isResolved?"Resolved":"Pending"})]})}),g.jsx("td",{style:Ir.tableCell,children:new Date(e.createdAt).toLocaleDateString()})]},e._id))})]}),w>1&&g.jsxs("div",{style:Ir.paginationContainer,children:[g.jsx("button",{onClick:()=>y(r-1),disabled:1===r,style:s(s({},Ir.paginationButton),1===r&&Ir.paginationButtonDisabled),children:"Previous"}),g.jsx("div",{style:Ir.pageNumbers,children:Array.from({length:w},(e,t)=>t+1).map(e=>g.jsx("button",{onClick:()=>y(e),style:s(s({},Ir.pageButton),r===e&&Ir.pageButtonActive),children:e},e))}),g.jsx("button",{onClick:()=>y(r+1),disabled:r===w,style:s(s({},Ir.paginationButton),r===w&&Ir.paginationButtonDisabled),children:"Next"})]}),g.jsx("div",{style:Ir.summary,children:g.jsxs("p",{children:["Showing ",v.length," of ",(null==(i=null==h?void 0:h.data)?void 0:i.total)||0," ","enquiries",a&&` (filtered by "${a}")`]})})]})}),g.jsx(Sr,{enquiryId:x,onClose:()=>{p(void 0)}}),g.jsx("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]})},Wr=ze(Ee)(()=>({maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer","&:hover":{whiteSpace:"normal",wordBreak:"break-word",maxHeight:"100px",overflow:"auto",transition:"all 0.3s ease"}})),Br=ze(De)(({theme:e})=>({margin:e.spacing(.5),"&:hover":{backgroundColor:e.palette.action.hover}})),Ar=ze(Ee)(({theme:e})=>({display:"flex",alignItems:"center",marginBottom:e.spacing(2),justifyContent:"flex-end",gap:e.spacing(2)})),zr=ze(Ee)(({theme:e})=>({display:"flex",alignItems:"center",border:`1px solid ${e.palette.divider}`,borderRadius:"8px",padding:e.spacing(1,2),backgroundColor:e.palette.background.paper,width:320,"& input":{border:"none",outline:"none",fontSize:16,width:"100%",background:"transparent"}})),Tr=()=>{var e,t,i;const[r,n]=f.useState(0),[a,o]=f.useState(10),[s,l]=f.useState(""),[c,x]=f.useState(null),[p,h]=f.useState(""),{data:m,isLoading:u}=ue({page:r+1,limit:a}),b=ge(),v=fe(),j=(null==(e=null==m?void 0:m.data)?void 0:e.testimonials)||[],y=(null==(t=null==m?void 0:m.data)?void 0:t.total)||0,w=f.useMemo(()=>j.filter(e=>{var t,i;const r=s.toLowerCase();return(null==(t=e.name)?void 0:t.toLowerCase().includes(r))||(null==(i=e.designation)?void 0:i.toLowerCase().includes(r))}),[j,s]),C=()=>d(void 0,null,function*(){var e,t;c&&p.trim()&&(yield b.mutateAsync({id:c,body:{message:p,name:null==(e=j.find(e=>e._id===c))?void 0:e.name,designation:null==(t=j.find(e=>e._id===c))?void 0:t.designation}}),x(null),h(""))}),k=()=>{x(null),h("")},S=!p.trim()||p===(null==(i=j.find(e=>e._id===c))?void 0:i.message);return g.jsxs(Ee,{sx:Ji.container,children:[g.jsx(Re,{variant:"h5.600",sx:{mb:2},children:"Testimonials"}),g.jsx(Re,{variant:"body2",sx:{mb:2},children:"Manage testimonials for your website. Add, edit, and delete testimonials to showcase your clients' feedback."}),g.jsx(Ar,{children:g.jsxs(zr,{children:[g.jsx("span",{style:{color:"#888",marginRight:8,fontSize:22},children:g.jsxs("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#888",strokeWidth:"2"}),g.jsx("path",{stroke:"#888",strokeWidth:"2",strokeLinecap:"round",d:"M20 20l-3-3"})]})}),g.jsx("input",{type:"text",placeholder:"Search by name or designation",value:s,onChange:e=>l(e.target.value)})]})}),g.jsx(xt,{component:Xe,sx:{minHeight:500,maxHeight:600,overflow:"auto",boxShadow:1},children:g.jsxs(pt,{stickyHeader:!0,children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{children:"Name"}),g.jsx(ut,{children:"Designation"}),g.jsx(ut,{children:"Message"}),g.jsx(ut,{children:"Status"}),g.jsx(ut,{children:"Created"}),g.jsx(ut,{align:"center",children:"Actions"})]})}),g.jsx(gt,{children:u?g.jsx(mt,{children:g.jsx(ut,{colSpan:6,align:"center",children:g.jsx(Ee,{sx:{py:6},children:g.jsx(nt,{})})})}):0===w.length?g.jsx(mt,{children:g.jsx(ut,{colSpan:6,align:"center",children:g.jsx(Re,{color:"text.secondary",children:"No testimonials found."})})}):w.map(e=>g.jsxs(mt,{children:[g.jsx(ut,{children:g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[g.jsx(Je,{sx:{width:32,height:32},children:e.name.charAt(0).toUpperCase()}),g.jsx(Re,{variant:"body2",fontWeight:"medium",children:e.name})]})}),g.jsx(ut,{children:g.jsx(Re,{variant:"body2",color:"text.secondary",children:e.designation})}),g.jsx(ut,{children:c===e._id?g.jsx(Qe,{multiline:!0,rows:3,value:p,onChange:e=>h(e.target.value),fullWidth:!0,size:"small",variant:"outlined",sx:{height:"unset",minHeight:"unset"},InputProps:{sx:{height:"unset"}}}):g.jsx(Wr,{children:g.jsx(Re,{variant:"body2",children:e.message})})}),g.jsx(ut,{children:g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"default",size:"small"})}),g.jsx(ut,{children:g.jsx(Re,{variant:"body2",color:"text.secondary",children:new Date(e.createdAt).toLocaleDateString()})}),g.jsx(ut,{align:"center",children:c===e._id?g.jsxs(Ee,{children:[g.jsx(yt,{title:"Save",children:g.jsx(Br,{onClick:C,disabled:S||b.isPending,color:"primary",size:"small",children:g.jsx(wt,{})})}),g.jsx(yt,{title:"Cancel",children:g.jsx(Br,{onClick:k,color:"default",size:"small",children:g.jsx(Ct,{})})})]}):g.jsxs(Ee,{children:[g.jsx(yt,{title:"Edit",children:g.jsx(Br,{onClick:()=>(e=>{x(e._id),h(e.message)})(e),color:"primary",size:"small",children:g.jsx(ft,{})})}),g.jsx(yt,{title:"Delete",children:g.jsx(Br,{onClick:()=>{return t=e._id,d(void 0,null,function*(){window.confirm("Are you sure you want to delete this testimonial?")&&(yield v.mutateAsync(t))});var t},color:"error",size:"small",disabled:v.isPending,children:g.jsx(bt,{})})})]})})]},e._id))})]})}),g.jsx(jt,{component:"div",count:y,page:r,onPageChange:(e,t)=>n(t),rowsPerPage:a,onRowsPerPageChange:e=>{o(parseInt(e.target.value,10)),n(0)},rowsPerPageOptions:[5,10,25]})]})},Rr={container:{padding:"2rem"},title:{fontSize:"2.5rem",fontWeight:"bold",color:"#2d3748",marginBottom:"2rem",textAlign:"center"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},statCard:{background:"white",padding:"1.5rem",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"1rem",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"pointer"},statIcon:{fontSize:"2.5rem"},statValue:{fontSize:"2rem",fontWeight:"bold",color:"#2d3748",margin:0},statTitle:{fontSize:"0.9rem",color:"#718096",margin:"0.25rem 0 0 0",fontWeight:"500"},activitySection:{background:"white",borderRadius:"12px",padding:"2rem",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},sectionTitle:{fontSize:"1.5rem",fontWeight:"bold",color:"#2d3748",marginBottom:"1.5rem"},activityList:{display:"flex",flexDirection:"column",gap:"1rem"},activityItem:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",borderRadius:"8px",background:"#f7fafc",border:"1px solid #e2e8f0"},activityIcon:{fontSize:"1.5rem",background:"white",padding:"0.5rem",borderRadius:"50%",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},activityContent:{flex:1},activityAction:{margin:0,fontWeight:"500",color:"#2d3748"},activityTime:{fontSize:"0.85rem",color:"#718096"}},Er=({endValue:e,duration:t=2e3,suffix:i="",prefix:r=""})=>{const[n,a]=f.useState(0);return f.useEffect(()=>{let i,r;const n=o=>{i||(i=o);const s=Math.min((o-i)/t,1),l=1-Math.pow(1-s,3),d=Math.floor(l*e);a(d),s<1&&(r=requestAnimationFrame(n))};return r=requestAnimationFrame(n),()=>{r&&cancelAnimationFrame(r)}},[e,t]),g.jsxs("span",{children:[r,n.toLocaleString(),i]})},Dr=()=>{var e,t,i,r;const{data:n,isLoading:a}=K(),{data:o,isLoading:d}=Z(),{data:c,isLoading:x}=xe({page:1,limit:100}),{data:p,isLoading:h}=be({page:1,limit:100}),{data:m,isLoading:u}=ae({page:1,limit:100}),{data:f,isLoading:b}=he({page:1,limit:100}),{data:v,isLoading:j}=ue({page:1,limit:100}),y=[{title:"Total Events",value:(null==n?void 0:n.total)||0,icon:"📅",color:"#667eea",isLoading:a,link:"/admin/events"},{title:"Total Courses",value:(null==o?void 0:o.total)||0,icon:"📚",color:"#f093fb",isLoading:d,link:"/admin/courses"},{title:"Active Users",value:(null==(e=null==c?void 0:c.data)?void 0:e.pagination.totalUsers)||0,icon:"👥",color:"#4facfe",isLoading:x,link:"/admin/users"},{title:"Total Certificates",value:(null==(t=null==p?void 0:p.data)?void 0:t.certificates.length)||0,icon:"📄",color:"#4facfe",isLoading:h,link:"/admin/certificates"},{title:"Total Blogs",value:(null==m?void 0:m.total)||0,icon:"📝",color:"#4facfe",isLoading:u,link:"/admin/blogs"},{title:"Total Enquiries",value:(null==(i=null==f?void 0:f.data)?void 0:i.total)||0,icon:"📞",color:"#4facfe",isLoading:b,link:"/admin/enquiries"},{title:"Total Testimonials",value:(null==(r=null==v?void 0:v.data)?void 0:r.total)||0,icon:"💬",color:"#4facfe",isLoading:j,link:"/admin/testimonials"}];return g.jsxs("div",{style:Rr.container,children:[g.jsx("h2",{style:Rr.title,children:"Dashboard Overview"}),g.jsx("div",{style:Rr.statsGrid,children:y.map((e,t)=>g.jsxs(C,{to:e.link,style:l(s({},Rr.statCard),{borderLeft:`4px solid ${e.color}`,textDecoration:"none",color:"inherit"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:Rr.statIcon,children:e.icon}),g.jsxs("div",{children:[g.jsx("h3",{style:Rr.statValue,children:e.isLoading?"...":g.jsx(Er,{endValue:e.value,duration:2e3+200*t,prefix:""})}),g.jsx("p",{style:Rr.statTitle,children:e.title})]})]}))}),g.jsxs("div",{style:Rr.activitySection,children:[g.jsx("h3",{style:Rr.sectionTitle,children:"Recent Activities"}),g.jsx("div",{style:Rr.activityList,children:[{action:"New user registered",time:"2 minutes ago",type:"user"},{action:'Event "React Workshop" created',time:"1 hour ago",type:"event"},{action:'Course "Python Basics" updated',time:"3 hours ago",type:"course"}].map((e,t)=>g.jsxs("div",{style:Rr.activityItem,children:[g.jsxs("div",{style:Rr.activityIcon,children:["user"===e.type&&"👤","event"===e.type&&"📅","course"===e.type&&"📚"]}),g.jsxs("div",{style:Rr.activityContent,children:[g.jsx("p",{style:Rr.activityAction,children:e.action}),g.jsx("span",{style:Rr.activityTime,children:e.time})]})]},t))})]})]})},Fr={padding:"0.75rem 1.25rem",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:600,transition:"all 0.2s ease-in-out",border:"1px solid transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontFamily:'"Inter", sans-serif',whiteSpace:"nowrap",textTransform:"none"},Lr={container:{maxWidth:"1200px",margin:{xs:"1rem",md:"2rem auto"},padding:{xs:"1rem",md:"1.5rem"},backgroundColor:"#ffffff",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)"},header:{marginBottom:"1.5rem",color:"#1e293b",textAlign:"center",fontSize:{xs:"1.75rem",md:"2.25rem"},fontWeight:700},subHeader:{marginBottom:"1.5rem",color:"#334155",fontSize:{xs:"1.5rem",md:"1.75rem"},fontWeight:600},formContainer:{padding:{xs:"1rem",md:"2rem"},borderRadius:"0.75rem",backgroundColor:"#f8fafc",marginBottom:"2rem"},pdfUploadContainer:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"1rem"},uploadButton:l(s({},Fr),{backgroundColor:"#e0f2fe",color:"#0288d1",border:"1px solid #90caf9","&:hover":{backgroundColor:"#90caf9",color:"#ffffff"}}),submitButton:l(s({},Fr),{backgroundColor:"#10b981",color:"#ffffff","&:hover":{backgroundColor:"#059669"},"&:disabled":{backgroundColor:"#a7f3d0",color:"#ffffff",cursor:"not-allowed"}}),alert:{marginBottom:"1rem",borderRadius:"0.5rem"},searchAndSwitchContainer:{display:"flex",justifyContent:"flex-end",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap","@media (max-width: 600px)":{flexDirection:"column",alignItems:"stretch"}},searchField:{width:"300px","@media (max-width: 600px)":{width:"100%"}},loadingBox:{display:"flex",justifyContent:"center",paddingY:"2rem"},tableContainer:{boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",borderRadius:"0.75rem",overflow:"scroll"},tableHeader:{fontWeight:700,backgroundColor:"#f8fafc",color:"#334155",whiteSpace:"nowrap",padding:"1rem"},tableRow:{"&:nth-of-type(odd)":{backgroundColor:"#fefefe"},"&:hover":{backgroundColor:"#f0f4f8"}},tableCell:{color:"#475569",padding:"0.75rem 1rem"},tablePdfIcon:{fontSize:"1.5rem",color:"#dc2626"},tableActions:{display:"flex",justifyContent:"flex-end",gap:"0.5rem","& .MuiIconButton-root":{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}}},Hr=c().shape({certificatePdf:u().test("fileType","Unsupported File Format. Only PDFs are allowed.",e=>!e||e instanceof File&&"application/pdf"===e.type).test("fileSize","PDF must be less than 10MB.",e=>!e||e instanceof File&&e.size<=10485760).required("Certificate PDF is required for creation"),email:x().email("Invalid email").required("Email is required")});c().shape({searchKey:x().trim().required("Please enter a certificate key to search").min(5,"Key must be at least 5 characters long")});const Ur=W`
  from {
    opacity: 0;
    transform: translateY(-40px);
  }
  to {
    opacity: 1;
    transform: translateY(0px);
  }
`,qr=({pdfName:e,certKey:t,onCopyKey:i,onClose:r,isCopyDisabled:n})=>g.jsx(Ee,{sx:{p:3,border:"1px solid #e0e0e0",borderRadius:2,background:"#fafbfc",minWidth:260,display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2,animation:`${Ur} 0.5s cubic-bezier(0.4,0,0.2,1)`},children:t?g.jsxs(g.Fragment,{children:[g.jsx(Re,{variant:"h6",sx:{fontWeight:600},children:"Certificate Info"}),g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[g.jsx(kt,{color:"error"}),g.jsx(Re,{variant:"body2",children:e})]}),t&&g.jsxs(Ee,{sx:{display:"flex",alignItems:"center",gap:1},children:[g.jsx(Re,{variant:"body2",sx:{fontWeight:500},children:"Key:"}),g.jsx(Re,{variant:"body2",sx:{fontFamily:"monospace"},children:t})]}),g.jsxs(Ee,{sx:{display:"flex",gap:1,mt:1},children:[g.jsx(Ne,{variant:"outlined",size:"small",startIcon:g.jsx(St,{}),onClick:i,disabled:n,children:"Copy Cert Key"}),g.jsx(Ne,{variant:"outlined",size:"small",color:"error",onClick:r,children:"Close"})]})]}):g.jsx(Re,{variant:"h6",sx:{fontWeight:600},children:"Upload a certificate to see the details"})}),Or=()=>{var e,t,i,r,n;const[a,o]=f.useState(null),[c,x]=f.useState(null),[p,h]=f.useState(null),m=f.useRef(null),[u,b]=f.useState(!1),[v,j]=f.useState(null),[y,C]=f.useState(!1),[S,I]=f.useState(null),[P,W]=f.useState(0),[B,A]=f.useState(10),[z,T]=f.useState(""),[R,E]=f.useState(""),{data:D,isLoading:F,isError:L,error:H,refetch:U}=be({page:P+1,limit:B,search:z}),q=ve(),O=je(),{show:M}=G(),{handleSubmit:N,reset:_,setValue:V,formState:{errors:$,isSubmitting:Y,isValid:K},register:J}=w({resolver:k(Hr),defaultValues:{certificatePdf:void 0,email:""}});f.useEffect(()=>{const e=setTimeout(()=>{E(z)},500);return()=>clearTimeout(e)},[z]),f.useEffect(()=>{_(),x(null),o(null),V("certificatePdf",null)},[_,V]);const Q=()=>{o(null),x(null),h(null),V("certificatePdf",null),m.current&&(m.current.value="")},Z=(null==(e=null==D?void 0:D.data)?void 0:e.certificates)||[],ee=Z.filter(e=>{var t,i;const r=z.toLowerCase().trim();return(null==(t=e.certificateKey)?void 0:t.toLowerCase().includes(r))||(null==(i=e.userEmail)?void 0:i.toLowerCase().includes(r))}),te=(null==(i=null==(t=null==D?void 0:D.data)?void 0:t.certificates)?void 0:i.length)||0,ie=R?ee:null==(r=null==D?void 0:D.data)?void 0:r.certificates;return g.jsxs(Ee,{sx:Lr.container,children:[g.jsx(Re,{variant:"h4",component:"h1",sx:Lr.header,children:"Add New Certificate"}),g.jsxs(Ee,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,alignItems:"flex-start",mb:3},children:[g.jsx(Xe,{elevation:3,sx:l(s({},Lr.formContainer),{flex:1,minHeight:280,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#fafbfc",border:"1px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"}),children:g.jsxs("form",{onSubmit:N(e=>d(void 0,null,function*(){var t;if(!a)return void M({title:"Please select a PDF file for the certificate.",color:"Error"});const i=yield q.mutateAsync({pdfFile:a,email:e.email});_(),o(null),x(null),V("certificatePdf",null),m.current&&(m.current.value=""),(null==(t=null==i?void 0:i.certificate)?void 0:t.certificateKey)&&(h(i.certificate.certificateKey),x(a.name))})),style:{width:"100%"},children:[g.jsx(Qe,l(s({},J("email")),{label:"Email",variant:"outlined",size:"small",error:!!$.email,helperText:null==(n=$.email)?void 0:n.message,sx:{mb:2}})),g.jsxs(Ee,{sx:l(s({},Lr.pdfUploadContainer),{width:"100%"}),children:[g.jsx("input",l(s({accept:"application/pdf",style:{display:"none"},id:"certificate-pdf-upload",type:"file"},J("certificatePdf",{onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];o(t),x(t.name),V("certificatePdf",t),h(null)}else Q()}})),{ref:m})),g.jsx("label",{htmlFor:"certificate-pdf-upload",children:g.jsx(Ne,{variant:"outlined",component:"span",startIcon:g.jsx(rt,{}),sx:Lr.uploadButton,disabled:q.isPending||!!a,children:"Upload PDF"})}),$.certificatePdf&&g.jsx(Re,{color:"error",variant:"caption1",sx:{mt:1},children:$.certificatePdf.message})]}),a&&c&&g.jsxs(Ee,{sx:{mt:2,mb:1,p:1.5,border:"1px solid #e0e0e0",borderRadius:2,background:"#f9f9f9",position:"relative",display:"flex",alignItems:"center",gap:1.5},children:[g.jsx(kt,{color:"error"}),g.jsx("a",{href:URL.createObjectURL(a),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline",color:"#1976d2",fontWeight:500,wordBreak:"break-all"},children:c}),g.jsx(De,{size:"small",sx:{position:"absolute",top:4,right:4,background:"#fff",boxShadow:1},onClick:Q,"aria-label":"Remove PDF",children:g.jsx(it,{fontSize:"small"})})]}),g.jsx(Ne,{type:"submit",variant:"contained",color:"primary",sx:l(s({},Lr.submitButton),{mt:2}),disabled:!K||Y||q.isPending||!a,loading:Y||q.isPending,children:"Upload Certificate"})]})}),g.jsx(Ee,{sx:{minWidth:280,minHeight:280,flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"#fafbfc",border:"1px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",borderRadius:2,ml:{md:.5},mt:{xs:2,md:0}},children:g.jsx(qr,{pdfName:c,certKey:p,onCopyKey:()=>{p&&(navigator.clipboard.writeText(p),M({title:"Certificate key copied to clipboard",color:"Success"}))},onClose:Q,isCopyDisabled:!p})})]}),g.jsxs(Ee,{sx:{mt:4},children:[g.jsx(Re,{variant:"h5",component:"h2",sx:Lr.subHeader,children:"Existing Certificates"}),g.jsx(Ee,{sx:Lr.searchAndSwitchContainer,children:g.jsx(Qe,{label:"Search by Key",variant:"outlined",size:"small",value:z,onChange:e=>T(e.target.value),InputProps:{startAdornment:g.jsx(at,{position:"start",children:g.jsx(ot,{})})},sx:Lr.searchField})}),F?g.jsx(Ee,{sx:Lr.loadingBox,children:g.jsx(nt,{})}):L?g.jsxs(_e,{severity:"error",sx:Lr.alert,children:["Error loading certificates: ",null==H?void 0:H.message]}):0===Z.length?g.jsx(_e,{severity:"info",sx:Lr.alert,children:"No certificates found."}):g.jsxs(xt,{component:Xe,sx:Lr.tableContainer,children:[g.jsxs(pt,{children:[g.jsx(ht,{children:g.jsxs(mt,{children:[g.jsx(ut,{sx:Lr.tableHeader,children:"Key"}),g.jsx(ut,{sx:Lr.tableHeader,children:"PDF"}),g.jsx(ut,{sx:Lr.tableHeader,children:"User"}),g.jsx(ut,{sx:Lr.tableHeader,children:"Status"}),g.jsx(ut,{sx:Lr.tableHeader,align:"right",children:"Actions"})]})}),g.jsx(gt,{children:null==ie?void 0:ie.map(e=>g.jsxs(mt,{sx:Lr.tableRow,children:[g.jsxs(ut,{sx:Lr.tableCell,children:[e.certificateKey,g.jsx(De,{onClick:()=>{navigator.clipboard.writeText(e.certificateKey),M({title:"Certificate key copied to clipboard",color:"Success"})},children:g.jsx(St,{fontSize:"small"})})]})," ",g.jsx(ut,{sx:Lr.tableCell,children:g.jsxs("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",wordBreak:"break-all"},children:[g.jsx(kt,{sx:Lr.tablePdfIcon}),"View PDF"]})}),g.jsx(ut,{sx:Lr.tableCell,children:e.userEmail}),g.jsx(ut,{sx:Lr.tableCell,children:g.jsx($e,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"error"})}),g.jsx(ut,{align:"right",sx:Lr.tableCell,children:g.jsxs(Ee,{sx:Lr.tableActions,children:[g.jsx(De,{size:"small",onClick:()=>(e=>{j(e),b(!0)})(e),"aria-label":"view certificate",children:g.jsx(vt,{fontSize:"small"})}),g.jsx(De,{size:"small",onClick:()=>{return t=e.certificateKey,I(t),void C(!0);var t},"aria-label":"delete certificate",disabled:O.isPending||!e.isActive,children:g.jsx(bt,{fontSize:"small"})})]})})]},e._id))})]}),g.jsx(jt,{rowsPerPageOptions:[5,10,25],component:"div",count:te,rowsPerPage:B,page:P,onPageChange:(e,t)=>{W(t)},onRowsPerPageChange:e=>{A(parseInt(e.target.value,10)),W(0)}})]})]}),g.jsx(ye,{open:u,onClose:()=>b(!1),certificate:v,loading:!1}),g.jsx(X,{open:y,onClose:()=>{C(!1),I(null)},onConfirm:()=>d(void 0,null,function*(){S&&(yield O.mutateAsync(S),C(!1),I(null),U())}),title:"Confirm Deletion",description:"Are you sure you want to soft-delete this certificate? It will become inactive.",loading:O.isPending})]})};export{gi as A,Dr as D,Pr as E,Ki as H,nr as L,zi as S,Tr as T,Cr as U,cr as V,ci as a,Xi as b,or as c,ur as d,zt as e,vr as f,wr as g,Or as h,qi as i};
