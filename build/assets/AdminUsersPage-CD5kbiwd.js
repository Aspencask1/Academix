import{d,j as e,l,T as j,a2 as F,a3 as W}from"./index-0GGCgQc5.js";import{a as q}from"./AdminStyles-CJTdh0rH.js";import{u as k}from"./get-all-user.query-DgTx4GSK.js";import{T as J,a as O,b as Q,c,d as n,e as G,f as K}from"./TableRow-BfCpx3__.js";const V=()=>{var b,w,P,C;const[h,x]=d.useState(0),[o,v]=d.useState(10),[a,U]=d.useState(""),{data:t,isLoading:I}=k(),{data:g,isLoading:R}=k({page:h+1,limit:o}),u=((b=t==null?void 0:t.data)==null?void 0:b.users)||[],p=((w=g==null?void 0:g.data)==null?void 0:w.users)||[],A=((C=(P=t==null?void 0:t.data)==null?void 0:P.pagination)==null?void 0:C.totalUsers)||0,m=d.useMemo(()=>{if(!a.trim())return p;const s=a.toLowerCase();return u.filter(r=>{var S,T,L;return((S=r.name)==null?void 0:S.toLowerCase().includes(s))||((T=r.email)==null?void 0:T.toLowerCase().includes(s))||((L=r._id)==null?void 0:L.toLowerCase().includes(s))})},[u,p,a]),i=a.trim().length>0,H=m.length,f=h*o,M=f+o,_=m.slice(f,M),y=i?_:p,B=i?H:A,E=i?I:R,N=(s,r)=>{x(r)},z=s=>{v(parseInt(s.target.value,10)),x(0)};return e.jsxs(l,{sx:q.container,children:[e.jsx(j,{variant:"h5.600",sx:{mb:2},children:"Users"}),e.jsx(j,{variant:"body2",sx:{mb:2},children:"Manage users for your website. Users to showcase your clients' feedback."}),e.jsx(l,{sx:{display:"flex",alignItems:"center",mb:2,justifyContent:"flex-end"},children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:2,px:1.5,py:.5,background:"#fff",width:320},children:[e.jsx("span",{style:{color:"#888",marginRight:8,fontSize:22},children:e.jsxs("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#888",strokeWidth:"2"}),e.jsx("path",{stroke:"#888",strokeWidth:"2",strokeLinecap:"round",d:"M20 20l-3-3"})]})}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or ID",value:a,onChange:s=>{U(s.target.value),x(0)},style:{border:"none",outline:"none",fontSize:16,width:"100%",background:"transparent"}})]})}),e.jsx(J,{component:F,sx:{minHeight:500,maxHeight:500,overflow:"auto",boxShadow:1},children:e.jsxs(O,{stickyHeader:!0,children:[e.jsx(Q,{children:e.jsxs(c,{children:[e.jsx(n,{children:"ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Join Date"})]})}),e.jsx(G,{children:E?e.jsx(c,{children:e.jsx(n,{colSpan:4,align:"center",children:e.jsx(l,{sx:{py:6},children:e.jsx(W,{})})})}):y.length===0?e.jsx(c,{children:e.jsx(n,{colSpan:4,align:"center",children:e.jsx(j,{color:"text.secondary",children:i?"No users found matching your search.":"No users found."})})}):y.map(s=>e.jsxs(c,{children:[e.jsx(n,{children:s._id}),e.jsx(n,{children:s.name}),e.jsx(n,{children:s.email}),e.jsx(n,{children:s.createdAt.split("T")[0]})]},s._id))})]})}),e.jsx(K,{component:"div",count:B,page:h,onPageChange:N,rowsPerPage:o,onRowsPerPageChange:z,rowsPerPageOptions:[5,10,25]})]})},D=()=>e.jsx(V,{});export{D as default};
