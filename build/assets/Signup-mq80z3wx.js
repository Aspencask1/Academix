import{A as h,X as f,d as j,j as e,Y as y,T as S,N as b,k as T,_ as v}from"./index-0GGCgQc5.js";import{F as w,a as E,b as F,S as i,c as A}from"./styles.component-BIt1iqvu.js";import{u as P,o as N}from"./yup-l7oKxK6W.js";import{u as W}from"./useMutation-DW6lAXSi.js";import{u as k}from"./app.route.state-BHKaGZie.js";import{d as C,a as _}from"./VisibilityOff-COrxoVG6.js";const B=()=>{const{show:t}=h(),{appNavigate:a}=k();return W({mutationFn:async r=>(await f.signup(r)).data,onSuccess:(r,s)=>{t({title:"OTP sent to your email",color:"Success"}),a("verifyEmail",{state:{...s}})},onError:()=>{t({title:"Sign up failed",color:"Error"})}})},I=({toggleEye:t})=>t?e.jsx(C,{}):e.jsx(_,{}),L=()=>{var l,c,u;const t=P({resolver:N(v),defaultValues:{name:"",email:"",password:""},mode:"onTouched"}),{register:a,handleSubmit:r,formState:{errors:s,isValid:m}}=t,{mutateAsync:d,isPending:p}=B(),x=async n=>{await d(n)},[o,g]=j.useState(!1);return e.jsx(w,{children:e.jsxs(E,{elevation:3,children:[e.jsx(F,{children:"Create an Account"}),e.jsxs("form",{onSubmit:n=>{r(x)(n)},style:{display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsx(i,{label:"Name",fullWidth:!0,...a("name"),error:!!s.name,helperText:(l=s.name)==null?void 0:l.message}),e.jsx(i,{label:"Email",fullWidth:!0,...a("email"),error:!!s.email,helperText:(c=s.email)==null?void 0:c.message}),e.jsx(i,{label:"Password",type:o?"text":"password",fullWidth:!0,...a("password"),error:!!s.password,helperText:(u=s.password)==null?void 0:u.message,InputProps:{endAdornment:e.jsx(y,{onClick:()=>g(!o),children:e.jsx(I,{toggleEye:o})})}}),e.jsx(A,{variant:"contained",color:"success",fullWidth:!0,type:"submit",disabled:!m,loading:p,children:"Signup"})]}),e.jsxs(S,{variant:"body2",align:"center",sx:{marginTop:2},children:["Already have an account?"," ",e.jsx(b,{to:T.userLogin,style:{color:"#2563eb",textDecoration:"none",fontWeight:500},children:"Login"})]})]})})},X=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(L,{})});export{X as SignupPage};
