import{r as k,g as O,a as Q,s as q,u as K,b as D,e as Z,c as x,d as _,f as w,h as W,i as J,k as X,l as Y,m as B,n as ee,o as te,j as s,E as ne,B as g,p as m,T as h,q as G,A as re,t as ie,v as ae,S as T,C as z,w as se,x as oe,y as ce,L as le,z as de,D as ue}from"./index-DV_5w7Wd.js";const A=k.createContext();function pe(e){return O("MuiGrid",e)}const me=[0,1,2,3,4,5,6,7,8,9,10],ge=["column-reverse","column","row-reverse","row"],he=["nowrap","wrap-reverse","wrap"],y=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],b=Q("MuiGrid",["root","container","item","zeroMinWidth",...me.map(e=>`spacing-xs-${e}`),...ge.map(e=>`direction-xs-${e}`),...he.map(e=>`wrap-xs-${e}`),...y.map(e=>`grid-xs-${e}`),...y.map(e=>`grid-sm-${e}`),...y.map(e=>`grid-md-${e}`),...y.map(e=>`grid-lg-${e}`),...y.map(e=>`grid-xl-${e}`)]);function fe({theme:e,ownerState:n}){let r;return e.breakpoints.keys.reduce((i,t)=>{let a={};if(n[t]&&(r=n[t]),!r)return i;if(r===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=w({values:n.columns,breakpoints:e.breakpoints.values}),u=typeof o=="object"?o[t]:o;if(u==null)return i;const d=`${Math.round(r/u*1e8)/1e6}%`;let c={};if(n.container&&n.item&&n.columnSpacing!==0){const l=e.spacing(n.columnSpacing);if(l!=="0px"){const p=`calc(${d} + ${l})`;c={flexBasis:p,maxWidth:p}}}a={flexBasis:d,flexGrow:0,maxWidth:d,...c}}return e.breakpoints.values[t]===0?Object.assign(i,a):i[e.breakpoints.up(t)]=a,i},{})}function ve({theme:e,ownerState:n}){const r=w({values:n.direction,breakpoints:e.breakpoints.values});return W({theme:e},r,i=>{const t={flexDirection:i};return i.startsWith("column")&&(t[`& > .${b.item}`]={maxWidth:"none"}),t})}function P({breakpoints:e,values:n}){let r="";Object.keys(n).forEach(t=>{r===""&&n[t]!==0&&(r=t)});const i=Object.keys(e).sort((t,a)=>e[t]-e[a]);return i.slice(0,i.indexOf(r))}function xe({theme:e,ownerState:n}){const{container:r,rowSpacing:i}=n;let t={};if(r&&i!==0){const a=w({values:i,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=P({breakpoints:e.breakpoints.values,values:a})),t=W({theme:e},a,(u,d)=>{const c=e.spacing(u);return c!=="0px"?{marginTop:`calc(-1 * ${c})`,[`& > .${b.item}`]:{paddingTop:c}}:o!=null&&o.includes(d)?{}:{marginTop:0,[`& > .${b.item}`]:{paddingTop:0}}})}return t}function ye({theme:e,ownerState:n}){const{container:r,columnSpacing:i}=n;let t={};if(r&&i!==0){const a=w({values:i,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=P({breakpoints:e.breakpoints.values,values:a})),t=W({theme:e},a,(u,d)=>{const c=e.spacing(u);if(c!=="0px"){const l=`calc(-1 * ${c})`;return{width:`calc(100% + ${c})`,marginLeft:l,[`& > .${b.item}`]:{paddingLeft:c}}}return o!=null&&o.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${b.item}`]:{paddingLeft:0}}})}return t}function be(e,n,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const i=[];return n.forEach(t=>{const a=e[t];Number(a)>0&&i.push(r[`spacing-${t}-${String(a)}`])}),i}const Se=q("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e,{container:i,direction:t,item:a,spacing:o,wrap:u,zeroMinWidth:d,breakpoints:c}=r;let l=[];i&&(l=be(o,c,n));const p=[];return c.forEach(f=>{const v=r[f];v&&p.push(n[`grid-${f}-${String(v)}`])}),[n.root,i&&n.container,a&&n.item,d&&n.zeroMinWidth,...l,t!=="row"&&n[`direction-xs-${String(t)}`],u!=="wrap"&&n[`wrap-xs-${String(u)}`],...p]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),ve,xe,ye,fe);function we(e,n){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return n.forEach(i=>{const t=e[i];if(Number(t)>0){const a=`spacing-${i}-${String(t)}`;r.push(a)}}),r}const $e=e=>{const{classes:n,container:r,direction:i,item:t,spacing:a,wrap:o,zeroMinWidth:u,breakpoints:d}=e;let c=[];r&&(c=we(a,d));const l=[];d.forEach(f=>{const v=e[f];v&&l.push(`grid-${f}-${String(v)}`)});const p={root:["root",r&&"container",t&&"item",u&&"zeroMinWidth",...c,i!=="row"&&`direction-xs-${String(i)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...l]};return J(p,pe,n)},E=k.forwardRef(function(n,r){const i=K({props:n,name:"MuiGrid"}),{breakpoints:t}=D(),a=Z(i),{className:o,columns:u,columnSpacing:d,component:c="div",container:l=!1,direction:p="row",item:f=!1,rowSpacing:v,spacing:$=0,wrap:V="wrap",zeroMinWidth:L=!1,...C}=a,U=v||$,F=d||$,R=k.useContext(A),M=l?u||12:R,j={},I={...C};t.keys.forEach(S=>{C[S]!=null&&(j[S]=C[S],delete I[S])});const N={...a,columns:M,container:l,direction:p,item:f,rowSpacing:U,columnSpacing:F,wrap:V,zeroMinWidth:L,spacing:$,...j,breakpoints:t.keys},H=$e(N);return x.jsx(A.Provider,{value:M,children:x.jsx(Se,{ownerState:N,className:_(H.root,o),as:c,ref:r,...I})})}),Ce="event-by-id",Ee=e=>X({queryKey:[Ce,e],queryFn:async()=>(await Y.getEventById(e)).data}),ke=B([x.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),x.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),We=B(x.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),Be=B(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn"),Me=({eventId:e})=>{var c;const n=ee(),r=D(),i=te(r.breakpoints.down("md")),{data:t,isLoading:a,isError:o}=Ee(e),u=()=>{var l,p;(p=(l=t==null?void 0:t.data)==null?void 0:l.event)!=null&&p.paymentUrl&&window.open(t.data.event.paymentUrl,"_blank")},d=()=>{n(de.events)};return s(le,{loading:a,message:"Loading event details...",children:s(ne,{children:o||!((c=t==null?void 0:t.data)!=null&&c.event)?s(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",flexDirection:"column",gap:2,px:2},children:m(re,{severity:"error",sx:{maxWidth:600,width:"100%"},children:[s(h,{variant:"h6",gutterBottom:!0,children:"Event Not Found"}),s(h,{variant:"body1",gutterBottom:!0,children:"The event you're looking for doesn't exist or has been removed."}),s(G,{variant:"contained",onClick:d,sx:{mt:2},children:"Back to Events"})]})}):m(g,{sx:{maxWidth:1200,mx:"auto",px:{xs:2,md:4}},children:[s(G,{variant:"outlined",onClick:d,sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:"← Back to Events"}),m(E,{container:!0,spacing:4,children:[s(E,{item:!0,xs:12,md:6,children:s(ie,{children:s("img",{src:t.data.event.image||"https://placehold.co/600x400/F0F0F0/333333?text=Event+Image",alt:t.data.event.title,onError:l=>{const p=l.target;p.src="https://placehold.co/600x400/F0F0F0/333333?text=Event+Image"}})})}),s(E,{item:!0,xs:12,md:6,children:s(ae,{children:m(T,{spacing:3,children:[m(g,{children:[s(h,{variant:i?"h4":"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:r.palette.text.primary,lineHeight:1.2},children:t.data.event.title}),m(g,{sx:{display:"flex",alignItems:"center",gap:2,mt:2},children:[s(z,{icon:s(Be,{}),label:t.data.event.price===0?"Free Event":`₹${t.data.event.price}`,color:t.data.event.price===0?"success":"primary",variant:"filled",sx:{fontWeight:"bold"}}),s(z,{label:"Active",variant:"outlined",size:"medium"})]})]}),s(se,{elevation:2,children:s(oe,{children:m(T,{spacing:2,children:[m(g,{sx:{display:"flex",alignItems:"center",gap:2},children:[s(We,{color:"primary"}),m(h,{variant:"body1",children:["Created:"," ",new Date(t.data.event.createdAt).toLocaleDateString()]})]}),m(g,{sx:{display:"flex",alignItems:"center",gap:2},children:[s(ke,{color:"primary"}),m(h,{variant:"body1",children:["Last Updated:"," ",new Date(t.data.event.updatedAt).toLocaleDateString()]})]})]})})}),m(g,{children:[s(h,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"About This Event"}),s(h,{variant:"body1",sx:{lineHeight:1.7,color:r.palette.text.secondary,textAlign:"justify"},children:t.data.event.description})]}),m(g,{sx:{pt:2},children:[s(ce,{variant:"contained",size:"large",fullWidth:!0,onClick:u,disabled:!t.data.event.paymentUrl,sx:{py:2,fontSize:"1.1rem",fontWeight:"bold",textTransform:"none"},children:t.data.event.paymentUrl?"Enroll Now":"Enrollment Unavailable"}),!t.data.event.paymentUrl&&s(h,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mt:1},children:"Payment link is not available for this event"})]})]})})})]})]})})})},Ie=()=>{const{eventId:e}=ue({params:"eventId"});return e?s(Me,{eventId:e}):null};export{Ie as default};
